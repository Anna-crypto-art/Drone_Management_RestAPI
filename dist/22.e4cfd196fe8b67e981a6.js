(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[22],{348:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-form-group",{attrs:{label:e.$t("select-auth-method")}},[r("b-form-select",{attrs:{options:e.authMethodOptions},on:{change:e.onChange},model:{value:e.authMethod,callback:function(t){e.authMethod=t},expression:"authMethod"}})],1)},s=[];a._withStripped=!0;var o=r(19),n=r(20),i=r(25),u=r(24),c=r(27),l=(r(46),r(22),r(94),r(16)),p=r(17),h=r(115),d=function(e,t,r,a){var s,o=arguments.length,n=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,r):a;if("object"===("undefined"===typeof Reflect?"undefined":Object(c["a"])(Reflect))&&"function"===typeof Reflect.decorate)n=Reflect.decorate(e,t,r,a);else for(var i=e.length-1;i>=0;i--)(s=e[i])&&(n=(o<3?s(n):o>3?s(t,r,n):s(t,r))||n);return o>3&&n&&Object.defineProperty(t,r,n),n},m=function(e){Object(i["a"])(r,e);var t=Object(u["a"])(r);function r(){var e;return Object(o["a"])(this,r),e=t.apply(this,arguments),e.authMethodOptions=[],e.authMethod=null,e}return Object(n["a"])(r,[{key:"created",value:function(){this.authMethodOptions=[{text:this.$t("mfa-with-email").toString(),value:h["a"].EMAIL},{text:this.$t("mfa-with-totp-recommended").toString(),value:h["a"].TOTP}],this.authMethod=this.value}},{key:"onChange",value:function(){this.$emit("input",this.authMethod)}}]),r}(p["default"]);d([Object(l["b"])({default:null})],m.prototype,"value",void 0),m=d([Object(l["a"])({name:"app-select-auth-method"})],m);var f=m,b=f,v=r(32),w=Object(v["a"])(b,a,s,!1,null,null,null);w.options.__file="src/app/shared/components/app-select-auth-method/app-select-auth-method.vue";t["a"]=w.exports},507:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-auth-register"},[r("app-auth-container",[e.hasUser?r("div",[r("b-form",{attrs:{autocomplete:"off"},on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.company,expression:"company"}]},[r("b-form-group",{attrs:{label:e.$t("company"),"label-for":"company"}},[r("b-form-input",{attrs:{id:"company",disabled:""},model:{value:e.company,callback:function(t){e.company=t},expression:"company"}})],1)],1),r("b-form-group",{attrs:{label:e.$t("email"),"label-for":"email"}},[r("b-form-input",{attrs:{id:"email",type:"email",disabled:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),r("b-form-group",{attrs:{label:e.$t("first-name"),"label-for":"first-name"}},[r("b-form-input",{attrs:{id:"first-name",required:""},model:{value:e.user.first_name,callback:function(t){e.$set(e.user,"first_name",t)},expression:"user.first_name"}})],1),r("b-form-group",{attrs:{label:e.$t("last-name"),"label-for":"last-name"}},[r("b-form-input",{attrs:{id:"last-name",required:""},model:{value:e.user.last_name,callback:function(t){e.$set(e.user,"last_name",t)},expression:"user.last_name"}})],1),r("b-form-group",{attrs:{label:e.$t("password"),"label-for":"password"}},[r("b-form-input",{attrs:{id:"password",type:"password",placeholder:e.$t("password"),required:""},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1),r("b-form-group",{attrs:{label:e.$t("repeat-password"),"label-for":"repeat-password"}},[r("b-form-input",{attrs:{id:"repeat-password",type:"password",placeholder:e.$t("repeat-password"),required:""},model:{value:e.user.repeat_password,callback:function(t){e.$set(e.user,"repeat_password",t)},expression:"user.repeat_password"}})],1),r("app-select-auth-method",{model:{value:e.user.auth_method,callback:function(t){e.$set(e.user,"auth_method",t)},expression:"user.auth_method"}}),r("div",[r("b-form-checkbox",{attrs:{id:"terms-of-service",required:""},model:{value:e.checkedTermsOfService,callback:function(t){e.checkedTermsOfService=t},expression:"checkedTermsOfService"}},[r("span",{domProps:{innerHTML:e._s(e.$t("accept-terms-of-service"))}})])],1),r("app-button",{attrs:{type:"submit",cls:"width-100pc",disabled:!e.checkedTermsOfService,loading:e.loading}},[e._v(e._s(e.$t("register")))])],1)],1):e._e()])],1)},s=[];a._withStripped=!0;var o=r(6),n=r(10),i=r(19),u=r(20),c=r(25),l=r(24),p=r(27),h=(r(46),r(22),r(75),r(17)),d=r(16),m=r(157),f=r(74),b=r(348),v=r(47),w=r(58),O=r(85),_=r(115),y=function(e,t,r,a){var s,o=arguments.length,n=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,r):a;if("object"===("undefined"===typeof Reflect?"undefined":Object(p["a"])(Reflect))&&"function"===typeof Reflect.decorate)n=Reflect.decorate(e,t,r,a);else for(var i=e.length-1;i>=0;i--)(s=e[i])&&(n=(o<3?s(n):o>3?s(t,r,n):s(t,r))||n);return o>3&&n&&Object.defineProperty(t,r,n),n},g=function(e){Object(c["a"])(r,e);var t=Object(l["a"])(r);function r(){var e;return Object(i["a"])(this,r),e=t.apply(this,arguments),e.hasUser=!1,e.email="",e.company="",e.checkedTermsOfService=!1,e.loading=!1,e}return Object(u["a"])(r,[{key:"created",value:function(){var e=Object(n["a"])(Object(o["a"])().mark((function e(){var t,r;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v["a"].getInvitedUser(this.$route.params.confirmKey);case 3:t=e.sent,this.user={user_id:t.id,first_name:t.first_name,last_name:t.last_name,password:"",repeat_password:"",auth_method:null},this.email=t.email,this.company=t.customer&&t.customer.name||"",this.hasUser=!0,e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](0),e.t0.error!==w["a"].RESOURCE_NOT_FOUND&&e.t0.error!==w["a"].TOKEN_EXPIRED||(r=void 0,e.t0.error===w["a"].TOKEN_EXPIRED&&(r={error:e.t0.error,message:e.t0.message}),this.$router.push({name:"Login",query:r})),this.showAlert(e.t0);case 14:case"end":return e.stop()}}),e,this,[[0,10]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"onSubmit",value:function(){var e=Object(n["a"])(Object(o["a"])().mark((function e(t){var r;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.user.password===this.user.repeat_password){e.next=3;break}return this.showAlert({error:"PASSWORDS_DONT_MATCH"}),e.abrupt("return");case 3:if(null!==this.user.auth_method){e.next=6;break}return this.showAlert({error:"AUTHENTICATION_METHOD_REQUIRED"}),e.abrupt("return");case 6:if(this.checkedTermsOfService){e.next=9;break}return this.showAlert({error:"ACCEPT_TERMS_OF_SERVICE"}),e.abrupt("return");case 9:return e.prev=9,this.loading=!0,e.next=13,v["a"].registerUser(this.$route.params.confirmKey,this.user);case 13:r=e.sent,this.user.auth_method===_["a"].TOTP?this.$router.push({name:"RegisterTOTP",params:{confirmKey:r.confirmation_key}}):this.$router.push({name:"Login"}),e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](9),this.showAlert(e.t0);case 20:case"end":return e.stop()}}),e,this,[[9,17]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"showAlert",value:function(e){O["a"].showError(e),this.loading=!1}}]),r}(h["default"]);g=y([Object(d["a"])({name:"app-auth-register",components:{AppAuthContainer:m["a"],AppButton:f["a"],AppSelectAuthMethod:b["a"]}})],g);var k=g,j=k,$=r(32),x=Object($["a"])(j,a,s,!1,null,null,null);x.options.__file="src/app/auth/register/register.vue";t["default"]=x.exports}}]);