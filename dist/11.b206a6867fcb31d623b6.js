(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[11],{278:function(e,t,r){"use strict";var n=r(25),o=r(75),a=r(51),s=r(29),i=r(148),l=[],c=l.sort,u=s((function(){l.sort(void 0)})),d=s((function(){l.sort(null)})),p=i("sort"),m=u||!d||!p;n({target:"Array",proto:!0,forced:m},{sort:function(e){return void 0===e?c.call(a(this)):c.call(a(this),o(e))}})},280:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"app-explanation"},[r("span",{ref:"appExplTarget",staticClass:"app-explanation-container"},[r("b-icon",{attrs:{icon:"question-circle-fill"}})],1),r("b-popover",{attrs:{target:function(){return e.$refs.appExplTarget},triggers:"hover",placement:"top"}},[e._t("default")],2)],1)},o=[];n._withStripped=!0;var a=r(20),s=r(19),i=r(23),l=r(22),c=r(27),u=(r(46),r(24),r(17)),d=r(16),p=function(e,t,r,n){var o,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===("undefined"===typeof Reflect?"undefined":Object(c["a"])(Reflect))&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(s=(a<3?o(s):a>3?o(t,r,s):o(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s},m=function(e){Object(i["a"])(r,e);var t=Object(l["a"])(r);function r(){return Object(s["a"])(this,r),t.apply(this,arguments)}return Object(a["a"])(r)}(u["default"]);m=p([Object(d["a"])({name:"app-explanation"})],m);var b=m,h=b,f=(r(289),r(32)),_=Object(f["a"])(h,n,o,!1,null,null,null);_.options.__file="src/app/shared/components/app-explanation/app-explanation.vue";t["a"]=_.exports},282:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-table"},[r("b-table",{ref:"appTable",class:{"app-table-compact":e.compact},attrs:{id:e.id,fields:e.fields,items:e.rows,hover:e.hover,busy:e.loading,emptyText:e.emptyText||e.$t("no-data"),selectable:null!==e.selectMode,"select-mode":e.selectMode,"per-page":e.perPage,"current-page":e.currentPage,"head-variant":"light","show-empty":""},on:{"row-selected":e.onRowSelected},scopedSlots:e._u([null!==e.loading?{key:"table-busy",fn:function(){return[r("div",{staticClass:"text-center"},[r("b-spinner",{staticClass:"align-middle"})],1)]},proxy:!0}:null,{key:"empty",fn:function(t){return[r("span",{staticClass:"grayed"},[e._v(e._s(t.emptyText))])]}},{key:"head()",fn:function(t){return[e._v(" "+e._s(t.label)+" "),t.field.superAdminOnly?r("app-super-admin-marker"):e._e(),t.field.labelExpl?r("app-explanation",[r("span",{domProps:{innerHTML:e._s(e.$t(t.field.labelExpl))}})]):e._e()]}},{key:"head(selected)",fn:function(){return[r("b-checkbox",{directives:[{name:"show",rawName:"v-show",value:e.enableAllSelection,expression:"enableAllSelection"}],on:{change:e.onSelectAllFiles}})]},proxy:!0},{key:"cell(selected)",fn:function(t){var n=t.rowSelected;return[r("b-checkbox",{directives:[{name:"show",rawName:"v-show",value:"multi"===e.selectMode,expression:"selectMode === 'multi'"}],staticClass:"b-table-selectable-checkbox",attrs:{checked:n,disabled:""}})]}},{key:"cell(actions)",fn:function(t){return[e.hoverActions?r("div",{staticClass:"hover-cell pull-right"},[e._t("hoverActions",null,null,t)],2):e._e(),e.hoverActions?r("div",{staticClass:"clear"}):e._e()]}},e._l(e.$scopedSlots,(function(t,r){return{key:r,fn:function(t){return[e._t(r,null,null,t)]}}}))],null,!0)})],1)},o=[];n._withStripped=!0;var a=r(6),s=r(10),i=r(19),l=r(20),c=r(23),u=r(22),d=r(27),p=(r(46),r(24),r(150),r(17)),m=r(60),b=r(280),h=r(16),f=function(e,t,r,n){var o,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===("undefined"===typeof Reflect?"undefined":Object(d["a"])(Reflect))&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(s=(a<3?o(s):a>3?o(t,r,s):o(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s},_=function(e){Object(c["a"])(r,e);var t=Object(u["a"])(r);function r(){return Object(i["a"])(this,r),t.apply(this,arguments)}return Object(l["a"])(r,[{key:"created",value:function(){this.onColumnsChanged()}},{key:"onColumnsChanged",value:function(){var e=JSON.parse(JSON.stringify(this.columns));this.hoverActions&&e.push({key:"actions",label:""}),"multi"===this.selectMode&&e.unshift({key:"selected",label:""}),this.fields=e}},{key:"onSelectModeChanged",value:function(){this.onColumnsChanged()}},{key:"onRowSelected",value:function(e){this.$emit("rowSelected",e)}},{key:"onSelectAllFiles",value:function(e){e?this.appTable.selectAllRows():this.appTable.clearSelected()}},{key:"enableAllSelection",get:function(){return"multi"===this.selectMode&&this.selectAllColumns}},{key:"selectRow",value:function(e){this.appTable.selectRow(e)}},{key:"unselectRow",value:function(e){this.appTable.unselectRow(e)}},{key:"clearSelected",value:function(){this.appTable.clearSelected()}},{key:"selectAllRows",value:function(){this.appTable.selectAllRows()}},{key:"refresh",value:function(){var e=Object(s["a"])(Object(a["a"])().mark((function e(){return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.appTable.refresh();case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),r}(p["default"]);f([Object(h["b"])({required:!0})],_.prototype,"columns",void 0),f([Object(h["b"])({default:[]})],_.prototype,"rows",void 0),f([Object(h["b"])({default:null})],_.prototype,"id",void 0),f([Object(h["b"])({default:!0})],_.prototype,"hover",void 0),f([Object(h["b"])({default:""})],_.prototype,"emptyText",void 0),f([Object(h["b"])({default:!1})],_.prototype,"loading",void 0),f([Object(h["b"])({default:!1})],_.prototype,"hoverActions",void 0),f([Object(h["b"])({default:!1})],_.prototype,"compact",void 0),f([Object(h["b"])({default:null})],_.prototype,"perPage",void 0),f([Object(h["b"])({default:null})],_.prototype,"currentPage",void 0),f([Object(h["b"])({default:null})],_.prototype,"selectMode",void 0),f([Object(h["b"])({default:0})],_.prototype,"maxRowSelectoin",void 0),f([Object(h["b"])({default:!1})],_.prototype,"selectAllColumns",void 0),f([Object(h["c"])()],_.prototype,"appTable",void 0),f([Object(h["d"])("columns")],_.prototype,"onColumnsChanged",null),f([Object(h["d"])("selectMode")],_.prototype,"onSelectModeChanged",null),_=f([Object(h["a"])({name:"app-table",components:{AppSuperAdminMarker:m["a"],AppExplanation:b["a"]}})],_);var v=_,g=v,y=(r(293),r(32)),w=Object(y["a"])(g,n,o,!1,null,null,null);w.options.__file="src/app/shared/components/app-table/app-table.vue";t["a"]=w.exports},283:function(e,t,r){},284:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{class:"app-table-container "+(e.size?"app-table-container-"+e.size:"")},[e._t("default")],2)},o=[];n._withStripped=!0;var a=r(20),s=r(19),i=r(23),l=r(22),c=r(27),u=(r(46),r(24),r(17)),d=r(16),p=function(e,t,r,n){var o,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===("undefined"===typeof Reflect?"undefined":Object(c["a"])(Reflect))&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(s=(a<3?o(s):a>3?o(t,r,s):o(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s},m=function(e){Object(i["a"])(r,e);var t=Object(l["a"])(r);function r(){return Object(s["a"])(this,r),t.apply(this,arguments)}return Object(a["a"])(r)}(u["default"]);p([Object(d["b"])({default:""})],m.prototype,"size",void 0),m=p([d["a"]],m);var b=m,h=b,f=(r(292),r(32)),_=Object(f["a"])(h,n,o,!1,null,null,null);_.options.__file="src/app/shared/components/app-table-container/app-table-container.vue";t["a"]=_.exports},285:function(e,t,r){},286:function(e,t,r){},289:function(e,t,r){"use strict";r(283)},292:function(e,t,r){"use strict";r(285)},293:function(e,t,r){"use strict";r(286)},296:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));r(278);function n(e,t){return e.sort((function(e,r){var n=e[t].toLowerCase(),o=r[t].toLowerCase();return n<o?-1:n>o?1:0}))}},300:function(e,t,r){},316:function(e,t,r){"use strict";r(300)},324:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-table-filter"},[e._t("default")],2)},o=[];n._withStripped=!0;var a=r(20),s=r(19),i=r(23),l=r(22),c=r(27),u=(r(46),r(24),r(17)),d=r(16),p=function(e,t,r,n){var o,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===("undefined"===typeof Reflect?"undefined":Object(c["a"])(Reflect))&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(s=(a<3?o(s):a>3?o(t,r,s):o(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s},m=function(e){Object(i["a"])(r,e);var t=Object(l["a"])(r);function r(){return Object(s["a"])(this,r),t.apply(this,arguments)}return Object(a["a"])(r)}(u["default"]);m=p([d["a"]],m);var b=m,h=b,f=(r(316),r(32)),_=Object(f["a"])(h,n,o,!1,null,null,null);_.options.__file="src/app/shared/components/app-table-filter/app-table-filter.vue";t["a"]=_.exports},368:function(e,t,r){},369:function(e,t,r){},452:function(e,t,r){"use strict";r(368)},453:function(e,t,r){"use strict";r(369)},499:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-settings-drones"},[r("app-settings-drone-models"),r("div",{staticClass:"app-settings-drones-table-toolbar"},[r("app-button",{attrs:{variant:"primary"},on:{click:e.onCreateDroneClick}},[e._v(" "+e._s(e.$t("create-drone"))+" ")]),r("app-table-filter",[r("b-checkbox",{attrs:{switch:""},on:{change:e.updateDroneRows},model:{value:e.showRetired,callback:function(t){e.showRetired=t},expression:"showRetired"}},[e._v(" "+e._s(e.$t("show-retired"))+" ")])],1),r("app-table-filter",{directives:[{name:"show",rawName:"v-show",value:e.availableCustomers,expression:"availableCustomers"}]},[r("label",{attrs:{for:"customer-filter"}},[e._v(e._s(e.$t("customer")))]),r("b-form-select",{attrs:{id:"customer-filter",options:e.availableCustomers},on:{change:e.updateDroneRows},model:{value:e.selectedCustomerId,callback:function(t){e.selectedCustomerId=t},expression:"selectedCustomerId"}})],1),r("div",{staticClass:"clear"})],1),r("app-table-container",[r("app-table",{attrs:{columns:e.droneColumns,rows:e.droneRows,loading:e.loading,hoverActions:!0},scopedSlots:e._u([{key:"cell(customer_plants)",fn:function(t){return[r("span",{class:t.item.retired?"grayed":"",domProps:{innerHTML:e._s(t.item.customer_plants.map((function(e){return e.customer_name+" "+e.plant_name})).join("<br>"))}})]}},{key:"cell(drone_model)",fn:function(t){return[r("span",{class:t.item.retired?"grayed":""},[e._v(" "+e._s(t.item.drone_model.name_abbrev)+" ")])]}},{key:"cell(custom_name)",fn:function(t){return[r("span",{class:t.item.retired?"grayed":""},[e._v(" "+e._s(t.item.custom_name)+" ")])]}},{key:"cell(serial_number)",fn:function(t){return[r("span",{class:t.item.retired?"grayed":""},[e._v(" "+e._s(t.item.serial_number)+" ")])]}},{key:"cell(number_available_batteries)",fn:function(t){return[r("span",{class:t.item.retired?"grayed":""},[e._v(" "+e._s(t.item.number_available_batteries)+" ")])]}},{key:"hoverActions",fn:function(t){return[r("app-button",{attrs:{variant:"secondary",size:"sm",title:e.$t("edit-something",{something:t.item.custom_name}),icon:"wrench"},on:{click:function(r){return e.onEditDroneClick(t.item)}}}),r("app-button",{attrs:{variant:"outline-danger",size:"sm",title:e.$t("delete-something",{something:t.item.custom_name}),icon:"trash"},on:{click:function(r){return e.onDeleteDroneClick(t.item)}}})]}}])})],1),r("app-modal-form",{ref:"appDroneModal",attrs:{id:"drone-modal",title:e.droneModalTitle,"ok-title":e.droneModalOkTitle,modalLoading:e.droneModalLoading},on:{submit:e.onSubmitDrone}},[e.currentDrone?r("b-row",[r("b-col",[r("b-form-group",{attrs:{label:e.$t("customer-plants")}},[r("b-alert",{attrs:{show:!e.appendNewCustomerPlantAllowed,variant:"info"}},[e._v(" "+e._s(e.$t("fill-in-empty-customer-plants-first"))+" ")]),e._l(e.selectedCustomerPlants,(function(t){return r("b-row",{key:t.id,staticClass:"mar-bottom"},[r("b-col",{attrs:{cols:"5"}},[r("b-form-select",{attrs:{id:"drone-customer-selection",options:e.availableCustomers},on:{change:function(r){return e.onCustomerSelectionChanged(t)}},model:{value:t.customer_id,callback:function(r){e.$set(t,"customer_id",r)},expression:"customerPlant.customer_id"}})],1),r("b-col",{attrs:{cols:"5"}},[r("b-form-select",{directives:[{name:"show",rawName:"v-show",value:void 0!=t.customer_id,expression:"customerPlant.customer_id != undefined"}],attrs:{id:"drone-plant-selection",options:t.available_plant_ids},model:{value:t.plant_id,callback:function(r){e.$set(t,"plant_id",r)},expression:"customerPlant.plant_id"}})],1),r("b-col",{attrs:{cols:"2"}},[r("app-button",{attrs:{variant:"outline-danger",size:"sm",icon:"x"},on:{click:function(r){return e.deleteCustomerPlantEntry(t)}}})],1)],1)})),r("app-button",{attrs:{variant:"secondary",size:"sm",icon:"plus"},on:{click:function(t){return e.appendEmptyCustomerPlant()}}})],2),r("b-form-group",{attrs:{label:e.$t("drone-model")}},[r("b-form-select",{attrs:{id:"drone-model-selection",options:e.availableDroneModels,required:""},model:{value:e.currentDrone.drone_model.id,callback:function(t){e.$set(e.currentDrone.drone_model,"id",t)},expression:"currentDrone.drone_model.id"}})],1),r("b-form-group",{attrs:{label:e.$t("name")}},[r("b-form-input",{attrs:{id:"new-drone-name",required:"",type:"text",placeholder:e.$t("name")},model:{value:e.currentDrone.custom_name,callback:function(t){e.$set(e.currentDrone,"custom_name",t)},expression:"currentDrone.custom_name"}})],1),r("b-form-group",{attrs:{label:e.$t("serial-number")}},[r("b-form-input",{attrs:{id:"new-drone-serial-number",required:"",type:"text",placeholder:e.$t("serial-number")},model:{value:e.currentDrone.serial_number,callback:function(t){e.$set(e.currentDrone,"serial_number",t)},expression:"currentDrone.serial_number"}})],1),r("b-form-group",{attrs:{label:e.$t("number-available-batteries")}},[r("b-form-input",{attrs:{id:"new-drone-number-available-batteries",required:"",type:"number",placeholder:e.$t("number-available-batteries"),min:"1",max:"99"},model:{value:e.currentDrone.number_available_batteries,callback:function(t){e.$set(e.currentDrone,"number_available_batteries",t)},expression:"currentDrone.number_available_batteries"}})],1),r("b-form-checkbox",{attrs:{id:"new-drone-retired"},model:{value:e.currentDrone.retired,callback:function(t){e.$set(e.currentDrone,"retired",t)},expression:"currentDrone.retired"}},[e._v(" "+e._s(e.$t("retired"))+" ")])],1)],1):e._e()],1)],1)},o=[];n._withStripped=!0;var a=r(68),s=r(6),i=r(59),l=r(10),c=r(19),u=r(20),d=r(23),p=r(22),m=r(27),b=(r(46),r(24),r(112),r(94),r(95),r(73),r(144),r(278),r(16)),h=r(284),f=r(282),_=r(74),v=r(315),g=r(147),y=r(47),w=r(42),D=r(276),k=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-settings-drone-models"},[r("div",{staticClass:"app-settings-drone-models-table-toolbar"},[r("app-button",{attrs:{variant:"primary"},on:{click:e.onCreateDroneModelClick}},[e._v(" "+e._s(e.$t("create-drone-model"))+" ")])],1),r("app-table-container",[r("app-table",{attrs:{columns:e.droneModelColumns,rows:e.droneModelRows,loading:e.loading,hoverActions:!0},scopedSlots:e._u([{key:"cell(vendor)",fn:function(t){return[r("span",{class:t.item.supported?"":"grayed"},[e._v(" "+e._s(t.item.vendor)+" ")])]}},{key:"cell(name)",fn:function(t){return[r("span",{staticClass:"drone-model-table-name",class:t.item.supported?"":"grayed"},[e._v(" "+e._s(t.item.name_abbrev)+" ("),r("span",{staticClass:"grayed"},[e._v(e._s(t.item.name))]),e._v(") ")])]}},{key:"cell(flight_time)",fn:function(t){return[r("span",{class:t.item.supported?"":"grayed"},[e._v(" "+e._s(e.$t("number-with-minutes",{number:t.item.flight_time}))+" ")])]}},{key:"cell(recharge_time)",fn:function(t){return[r("span",{class:t.item.supported?"":"grayed"},[e._v(" "+e._s(e.$t("number-with-minutes",{number:t.item.recharge_time}))+" ")])]}},{key:"cell(battery_swap_time)",fn:function(t){return[r("span",{class:t.item.supported?"":"grayed"},[e._v(" "+e._s(e.$t("number-with-minutes",{number:t.item.battery_swap_time}))+" ")])]}},{key:"hoverActions",fn:function(t){return[r("app-button",{attrs:{variant:"secondary",size:"sm",title:e.$t("edit-something",{something:t.item.name}),icon:"wrench"},on:{click:function(r){return e.onEditDroneModelClick(t.item)}}}),r("app-button",{attrs:{variant:"outline-danger",size:"sm",title:e.$t("delete-something",{something:t.item.name}),icon:"trash"},on:{click:function(r){return e.onDeleteDroneModelClick(t.item)}}})]}}])})],1),r("app-modal-form",{ref:"appDroneModelModal",attrs:{id:"drone-model-modal",title:e.droneModelModalTitle,"ok-title":e.droneModelModalOkTitle,modalLoading:e.droneModelModalLoading},on:{submit:e.onSubmitDroneModel}},[e.currentDroneModel?r("b-row",[r("b-col",[r("b-form-group",{attrs:{label:e.$t("vendor")}},[r("b-form-input",{attrs:{id:"new-drone-model-vendor",required:"",type:"text",placeholder:e.$t("vendor")},model:{value:e.currentDroneModel.vendor,callback:function(t){e.$set(e.currentDroneModel,"vendor",t)},expression:"currentDroneModel.vendor"}})],1),r("b-form-group",{attrs:{label:e.$t("model-name")}},[r("b-form-input",{attrs:{id:"new-drone-model-name",required:"",type:"text",placeholder:e.$t("model-name")},model:{value:e.currentDroneModel.name,callback:function(t){e.$set(e.currentDroneModel,"name",t)},expression:"currentDroneModel.name"}})],1),r("b-form-group",{attrs:{label:e.$t("name-abbrev")}},[r("b-form-input",{attrs:{id:"new-drone-model-name-abbrev",required:"",type:"text",placeholder:e.$t("name-abbrev")},model:{value:e.currentDroneModel.name_abbrev,callback:function(t){e.$set(e.currentDroneModel,"name_abbrev",t)},expression:"currentDroneModel.name_abbrev"}})],1),r("b-row",[r("b-col",[r("b-form-group",{attrs:{label:e.$t("flight-time")}},[r("b-form-input",{attrs:{id:"new-drone-model-flight-time",required:"",type:"number",placeholder:e.$t("flight-time")},model:{value:e.currentDroneModel.flight_time,callback:function(t){e.$set(e.currentDroneModel,"flight_time",t)},expression:"currentDroneModel.flight_time"}})],1)],1),r("b-col",[r("b-form-group",{attrs:{label:e.$t("recharge-time")}},[r("b-form-input",{attrs:{id:"new-drone-model-recharge-time",required:"",type:"number",placeholder:e.$t("recharge-time")},model:{value:e.currentDroneModel.recharge_time,callback:function(t){e.$set(e.currentDroneModel,"recharge_time",t)},expression:"currentDroneModel.recharge_time"}})],1)],1),r("b-col",[r("b-form-group",{attrs:{label:e.$t("battery-swap-time")}},[r("b-form-input",{attrs:{id:"new-drone-model-battery-swap-time",required:"",type:"number",placeholder:e.$t("battery-swap-time")},model:{value:e.currentDroneModel.battery_swap_time,callback:function(t){e.$set(e.currentDroneModel,"battery_swap_time",t)},expression:"currentDroneModel.battery_swap_time"}})],1)],1)],1),r("b-form-checkbox",{attrs:{id:"new-drone-model-supported"},model:{value:e.currentDroneModel.supported,callback:function(t){e.$set(e.currentDroneModel,"supported",t)},expression:"currentDroneModel.supported"}},[e._v(" "+e._s(e.$t("supported"))+" ")])],1)],1):e._e()],1)],1)},M=[];k._withStripped=!0;var O=function(e,t,r,n){var o,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===("undefined"===typeof Reflect?"undefined":Object(m["a"])(Reflect))&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(s=(a<3?o(s):a>3?o(t,r,s):o(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s},j=function(e){Object(d["a"])(r,e);var t=Object(p["a"])(r);function r(){var e;return Object(c["a"])(this,r),e=t.apply(this,arguments),e.droneModelColumns=[],e.droneModelRows=[],e.loading=!1,e.droneModelModalLoading=!1,e.droneModelModalTitle="",e.droneModelModalOkTitle="",e.currentDroneModel={id:"",name:"",name_abbrev:"",vendor:"",flight_time:0,recharge_time:0,battery_swap_time:0,supported:!1},e}return Object(u["a"])(r,[{key:"created",value:function(){var e=Object(l["a"])(Object(s["a"])().mark((function e(){return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.droneModelColumns=[{key:"vendor",label:this.$t("vendor").toString()},{key:"name",label:this.$t("name").toString()},{key:"flight_time",label:this.$t("flight-time").toString()},{key:"recharge_time",label:this.$t("recharge-time").toString()},{key:"battery_swap_time",label:this.$t("battery-swap-time").toString()}],e.next=3,this.updateDroneModelRows();case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"updateDroneModelRows",value:function(){var e=Object(l["a"])(Object(s["a"])().mark((function e(){return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,y["a"].getDroneModels();case 2:this.droneModelRows=e.sent.map((function(e){return{id:e.id,name:e.name,name_abbrev:e.name_abbrev,vendor:e.vendor,flight_time:e.flight_time,recharge_time:e.recharge_time,battery_swap_time:e.battery_swap_time,supported:e.supported}})).sort((function(e,t){var r=e.vendor,n=t.vendor,o=e.name,a=t.name;return r<n?-1:r>n?1:o<a?-1:o>a?1:0}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onCreateDroneModelClick",value:function(){this.currentDroneModel={id:"",name:"",name_abbrev:"",vendor:"",flight_time:0,recharge_time:0,battery_swap_time:0,supported:!1},this.droneModelModalTitle=this.$t("create-drone-model").toString(),this.droneModelModalOkTitle=this.$t("create").toString(),this.appDroneModelModal.show()}},{key:"onSubmitDroneModel",value:function(){var e=Object(l["a"])(Object(s["a"])().mark((function e(){return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.currentDroneModel.id){e.next=6;break}return e.next=3,y["a"].createDroneModel({name:this.currentDroneModel.name,name_abbrev:this.currentDroneModel.name_abbrev,vendor:this.currentDroneModel.vendor,flight_time:this.currentDroneModel.flight_time,recharge_time:this.currentDroneModel.recharge_time,battery_swap_time:this.currentDroneModel.battery_swap_time,supported:this.currentDroneModel.supported});case 3:this.showSuccess(this.$t("something-created-success",{something:this.currentDroneModel.name}).toString()),e.next=9;break;case 6:return e.next=8,y["a"].updateDroneModel(this.currentDroneModel.id,{name:this.currentDroneModel.name,name_abbrev:this.currentDroneModel.name_abbrev,vendor:this.currentDroneModel.vendor,flight_time:this.currentDroneModel.flight_time,recharge_time:this.currentDroneModel.recharge_time,battery_swap_time:this.currentDroneModel.battery_swap_time,supported:this.currentDroneModel.supported});case 8:this.showSuccess(this.$t("something-edited-successfully",{something:this.currentDroneModel.name}).toString());case 9:return this.appDroneModelModal.hide(),e.next=12,this.updateDroneModelRows();case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onEditDroneModelClick",value:function(){var e=Object(l["a"])(Object(s["a"])().mark((function e(t){return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.currentDroneModel={id:t.id,name:t.name,name_abbrev:t.name_abbrev,vendor:t.vendor,flight_time:t.flight_time,recharge_time:t.recharge_time,battery_swap_time:t.battery_swap_time,supported:t.supported},this.droneModelModalTitle=this.$t("update-something",{something:this.currentDroneModel.name}).toString(),this.droneModelModalOkTitle=this.$t("apply").toString(),this.appDroneModelModal.show();case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"onDeleteDroneModelClick",value:function(){var e=Object(l["a"])(Object(s["a"])().mark((function e(t){return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(confirm(this.$t("sure-delete-something",{something:t.name}).toString())){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,y["a"].deleteDroneModel(t.id);case 4:return this.showSuccess(this.$t("something-deleted-successfully",{something:t.name}).toString()),e.next=7,this.updateDroneModelRows();case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),r}(w["a"]);O([Object(b["c"])()],j.prototype,"appDroneModelModal",void 0),O([Object(D["a"])("loading")],j.prototype,"created",null),O([Object(D["a"])()],j.prototype,"onCreateDroneModelClick",null),O([Object(D["a"])("droneModelModalLoading")],j.prototype,"onSubmitDroneModel",null),O([Object(D["a"])()],j.prototype,"onEditDroneModelClick",null),O([Object(D["a"])("loading")],j.prototype,"onDeleteDroneModelClick",null),j=O([Object(b["a"])({name:"app-settings-drone-models",components:{AppTableContainer:h["a"],AppModalForm:g["a"],AppTable:f["a"],AppButton:_["a"],AppMultiselect:v["a"]}})],j);var C=j,x=C,$=(r(452),r(32)),S=Object($["a"])(x,k,M,!1,null,null,null);S.options.__file="src/app/settings/drones/drone-models.vue";var R=S.exports,P=r(324),A=r(296),T=function(e,t,r,n){var o,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===("undefined"===typeof Reflect?"undefined":Object(m["a"])(Reflect))&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(s=(a<3?o(s):a>3?o(t,r,s):o(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s},E=function(e){Object(d["a"])(r,e);var t=Object(p["a"])(r);function r(){var e;return Object(c["a"])(this,r),e=t.apply(this,arguments),e.droneColumns=[],e.droneRows=[],e.loading=!1,e.showRetired=!1,e.availableDroneModels=[],e.appendNewCustomerPlantAllowed=!0,e.selectedCustomerPlants=[],e.allCustomers=[],e.availableCustomers=[],e.selectedCustomerId=null,e.allPlants=[],e.droneModalLoading=!1,e.droneModalTitle="",e.droneModalOkTitle="",e.currentDrone={id:"",drone_model:{id:"",name:"",name_abbrev:"",vendor:"",flight_time:0,recharge_time:0,battery_swap_time:0,supported:!1},custom_name:"",serial_number:"",number_available_batteries:1,retired:!1},e}return Object(u["a"])(r,[{key:"created",value:function(){var e=Object(l["a"])(Object(s["a"])().mark((function e(){return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.droneColumns=[{key:"customer_plants",label:this.$t("customer-plants").toString()},{key:"drone_model",label:this.$t("drone-type").toString()},{key:"custom_name",label:this.$t("name").toString()},{key:"serial_number",label:this.$t("serial-number").toString()},{key:"number_available_batteries",label:this.$t("number-available-batteries").toString()}],e.next=3,this.updateDroneRows();case 3:return e.next=5,this.updateAvailableDroneModels();case 5:return e.t0=A["a"],e.next=8,y["a"].getCustomers();case 8:return e.t1=e.sent,this.allCustomers=(0,e.t0)(e.t1,"name"),e.t2=A["a"],e.next=13,y["a"].getAllPlants();case 13:e.t3=e.sent,this.allPlants=(0,e.t2)(e.t3,"name"),this.availableCustomers=[{value:null,text:""}].concat(Object(i["a"])(this.allCustomers.map((function(e){return{value:e.id,text:e.name}})))),this.appendEmptyCustomerPlant();case 17:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"updateAvailableDroneModels",value:function(){var e=Object(l["a"])(Object(s["a"])().mark((function e(t){return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,y["a"].getDroneModels();case 2:this.availableDroneModels=e.sent.filter((function(e){return t?e.supported||e.name_abbrev==t:e.supported})).map((function(e){return{value:e.id,text:e.name_abbrev}}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateDroneRows",value:function(){var e=Object(l["a"])(Object(s["a"])().mark((function e(){var t;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={},this.selectedCustomerId&&(t.customer_id=this.selectedCustomerId),e.next=4,y["a"].getDrones(t);case 4:this.droneRows=e.sent.map((function(e){var t;return{id:e.id,customer_plants:null===(t=e.customer_plants)||void 0===t?void 0:t.map((function(e){return{customer_id:e.customer_id,customer_name:e.customer_name,plant_id:e.plant_id,plant_name:e.plant_name}})).sort((function(e,t){var r=e.customer_name?e.customer_name:"",n=t.customer_name?t.customer_name:"";if(r<n)return-1;if(r>n)return 1;var o=e.plant_name?e.plant_name:"",a=t.plant_name?t.plant_name:"";return o<a?-1:o>a?1:0})),drone_model:e.drone_model,custom_name:e.custom_name,serial_number:e.serial_number,number_available_batteries:e.number_available_batteries,retired:e.retired}})).sort((function(e,t){var r=e.customer_plants&&e.customer_plants.length>0&&void 0!=e.customer_plants[0].customer_name?e.customer_plants[0].customer_name:"",n=t.customer_plants&&t.customer_plants.length>0&&void 0!=t.customer_plants[0].customer_name?t.customer_plants[0].customer_name:"";if(r<n)return-1;if(r>n)return 1;var o=e.custom_name,a=t.custom_name;return o<a?-1:o>a?1:0})),this.showRetired||(this.droneRows=this.droneRows.filter((function(e){return!e.retired})));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onCreateDroneClick",value:function(){var e=Object(l["a"])(Object(s["a"])().mark((function e(){return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.currentDrone={id:"",drone_model:{id:"",name:"",name_abbrev:"",vendor:"",flight_time:0,recharge_time:0,battery_swap_time:0,supported:!1},custom_name:"",serial_number:"",number_available_batteries:1,retired:!1},this.selectedCustomerPlants=[],this.appendEmptyCustomerPlant(),this.droneModalTitle=this.$t("create-drone").toString(),this.droneModalOkTitle=this.$t("create").toString(),e.next=7,this.updateAvailableDroneModels();case 7:this.appDroneModal.show();case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onSubmitDrone",value:function(){var e=Object(l["a"])(Object(s["a"])().mark((function e(){var t,r,n;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(this.currentDrone.customer_plants=[],t=0;t<this.selectedCustomerPlants.length;t++)r=this.selectedCustomerPlants[t].customer_id,n=this.selectedCustomerPlants[t].plant_id,void 0!=r&&void 0!=n&&this.currentDrone.customer_plants.push({customer_id:r,plant_id:n});if(this.currentDrone.id){e.next=8;break}return e.next=5,y["a"].createDrone({customer_plant_ids_encoded:this.currentDrone.customer_plants,custom_name:this.currentDrone.custom_name,drone_model_id:this.currentDrone.drone_model.id,serial_number:this.currentDrone.serial_number,number_available_batteries:this.currentDrone.number_available_batteries,retired:this.currentDrone.retired});case 5:this.showSuccess(this.$t("something-created-success",{something:this.currentDrone.custom_name}).toString()),e.next=11;break;case 8:return e.next=10,y["a"].updateDrone(this.currentDrone.id,{customer_plant_ids_encoded:this.currentDrone.customer_plants,custom_name:this.currentDrone.custom_name,drone_model_id:this.currentDrone.drone_model.id,serial_number:this.currentDrone.serial_number,number_available_batteries:this.currentDrone.number_available_batteries,retired:this.currentDrone.retired});case 10:this.showSuccess(this.$t("something-edited-successfully",{something:this.currentDrone.custom_name}).toString());case 11:return this.appDroneModal.hide(),e.next=14,this.updateDroneRows();case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onEditDroneClick",value:function(){var e=Object(l["a"])(Object(s["a"])().mark((function e(t){var r,n,o;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=t.id,e.t1=null===(r=t.customer_plants)||void 0===r?void 0:r.map((function(e){return{customer_id:e.customer_id,plant_id:e.plant_id}})),e.t2=t.custom_name,e.next=5,y["a"].getDroneModel(t.drone_model.id);case 5:if(e.t3=e.sent,e.t4=t.serial_number,e.t5=t.number_available_batteries,e.t6=t.retired,this.currentDrone={id:e.t0,customer_plants:e.t1,custom_name:e.t2,drone_model:e.t3,serial_number:e.t4,number_available_batteries:e.t5,retired:e.t6},this.selectedCustomerPlants=[],this.currentDrone.customer_plants&&this.currentDrone.customer_plants.length>0)for(n=0;n<this.currentDrone.customer_plants.length;n++)o={id:this.selectedCustomerPlants.length+1,customer_id:this.currentDrone.customer_plants[n].customer_id,available_plant_ids:[],plant_id:this.currentDrone.customer_plants[n].plant_id},this.selectedCustomerPlants.push(o),this.onCustomerSelectionChanged(o);else this.appendEmptyCustomerPlant();return this.appendNewCustomerPlantAllowed=!0,this.droneModalTitle=this.$t("update-something",{something:this.currentDrone.custom_name}).toString(),this.droneModalOkTitle=this.$t("apply").toString(),e.next=17,this.updateAvailableDroneModels(this.currentDrone.drone_model.name_abbrev);case 17:this.appDroneModal.show();case 18:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"onDeleteDroneClick",value:function(){var e=Object(l["a"])(Object(s["a"])().mark((function e(t){return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(confirm(this.$t("sure-delete-something",{something:t.custom_name}).toString())){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,y["a"].deleteDrone(t.id);case 4:return this.showSuccess(this.$t("something-deleted-successfully",{something:t.custom_name}).toString()),e.next=7,this.updateDroneRows();case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"onCustomerSelectionChanged",value:function(){var e=Object(l["a"])(Object(s["a"])().mark((function e(t){var r,n,o,i,l,c,u,d,p;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.available_plant_ids=[],r=Object(a["a"])(this.allPlants),e.prev=2,r.s();case 4:if((n=r.n()).done){e.next=42;break}if(o=n.value,!o.customers){e.next=40;break}i=Object(a["a"])(o.customers),e.prev=8,i.s();case 10:if((l=i.n()).done){e.next=32;break}c=l.value,u=Object(a["a"])(this.allCustomers),e.prev=13,u.s();case 15:if((d=u.n()).done){e.next=22;break}if(p=d.value,p.id!=c.id||c.id!=t.customer_id){e.next=20;break}return t.available_plant_ids.push({value:o.id.toString(),text:o.name}),e.abrupt("break",22);case 20:e.next=15;break;case 22:e.next=27;break;case 24:e.prev=24,e.t0=e["catch"](13),u.e(e.t0);case 27:return e.prev=27,u.f(),e.finish(27);case 30:e.next=10;break;case 32:e.next=37;break;case 34:e.prev=34,e.t1=e["catch"](8),i.e(e.t1);case 37:return e.prev=37,i.f(),e.finish(37);case 40:e.next=4;break;case 42:e.next=47;break;case 44:e.prev=44,e.t2=e["catch"](2),r.e(e.t2);case 47:return e.prev=47,r.f(),e.finish(47);case 50:case"end":return e.stop()}}),e,this,[[2,44,47,50],[8,34,37,40],[13,24,27,30]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"checkIfAppendNewCustomerPlantAllowed",value:function(){for(var e=0,t=0;t<this.selectedCustomerPlants.length;t++)void 0==this.selectedCustomerPlants[t].customer_id&&(e+=1);this.appendNewCustomerPlantAllowed=!(e>=1)}},{key:"appendEmptyCustomerPlant",value:function(){if(this.checkIfAppendNewCustomerPlantAllowed(),this.appendNewCustomerPlantAllowed){var e={id:this.selectedCustomerPlants.length+1,customer_id:this.selectedCustomerId?this.selectedCustomerId:void 0,available_plant_ids:[]};this.selectedCustomerPlants.push(e),this.selectedCustomerId&&this.onCustomerSelectionChanged(e)}}},{key:"deleteCustomerPlantEntry",value:function(e){this.selectedCustomerPlants=this.selectedCustomerPlants.filter((function(t){return t!=e}))}}]),r}(w["a"]);T([Object(b["c"])()],E.prototype,"appDroneModal",void 0),T([Object(D["a"])("loading")],E.prototype,"created",null),T([Object(D["a"])("droneModalLoading")],E.prototype,"onCreateDroneClick",null),T([Object(D["a"])("droneModalLoading")],E.prototype,"onSubmitDrone",null),T([Object(D["a"])()],E.prototype,"onEditDroneClick",null),T([Object(D["a"])("loading")],E.prototype,"onDeleteDroneClick",null),T([Object(D["a"])()],E.prototype,"onCustomerSelectionChanged",null),E=T([Object(b["a"])({name:"app-settings-drones",components:{AppTableContainer:h["a"],AppModalForm:g["a"],AppTable:f["a"],AppButton:_["a"],AppMultiselect:v["a"],AppSettingsDroneModels:R,AppTableFilter:P["a"]}})],E);var L=E,N=L,q=(r(453),Object($["a"])(N,n,o,!1,null,null,null));q.options.__file="src/app/settings/drones/drones.vue";t["default"]=q.exports}}]);