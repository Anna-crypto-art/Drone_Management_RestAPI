(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{251:function(t,e,a){},254:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:"app-table-container "+(t.size?"app-table-container-"+t.size:"")},[t._t("default")],2)},n=[];s._withStripped=!0;var i=a(25),r=a(24),l=a(31),o=a(30),u=a(40),c=(a(61),a(26),a(15)),p=a(33),d=function(t,e,a,s){var n,i=arguments.length,r=i<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,a):s;if("object"===("undefined"===typeof Reflect?"undefined":Object(u["a"])(Reflect))&&"function"===typeof Reflect.decorate)r=Reflect.decorate(t,e,a,s);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r},f=function(t){Object(l["a"])(a,t);var e=Object(o["a"])(a);function a(){return Object(r["a"])(this,a),e.apply(this,arguments)}return Object(i["a"])(a)}(c["default"]);d([Object(p["b"])({default:""})],f.prototype,"size",void 0),f=d([p["a"]],f);var m=f,h=m,v=(a(258),a(39)),y=Object(v["a"])(h,s,n,!1,null,null,null);y.options.__file="src/app/shared/components/app-table-container/app-table-container.vue";e["a"]=y.exports},255:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},256:function(t,e,a){},258:function(t,e,a){"use strict";a(251)},259:function(t,e,a){"use strict";var s=a(18),n=a(260).trim,i=a(261);s({target:"String",proto:!0,forced:i("trim")},{trim:function(){return n(this)}})},260:function(t,e,a){var s=a(75),n=a(255),i="["+n+"]",r=RegExp("^"+i+i+"*"),l=RegExp(i+i+"*$"),o=function(t){return function(e){var a=String(s(e));return 1&t&&(a=a.replace(r,"")),2&t&&(a=a.replace(l,"")),a}};t.exports={start:o(1),end:o(2),trim:o(3)}},261:function(t,e,a){var s=a(20),n=a(255),i="​᠎";t.exports=function(t){return s((function(){return!!n[t]()||i[t]()!=i||n[t].name!==t}))}},262:function(t,e,a){"use strict";a(256)},263:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-modal",{staticClass:"app-modal-form",attrs:{id:t.id,"ok-title":t.okTitle,"no-close-on-backdrop":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[a("div",{staticClass:"app-modal-form-title"},[a("h2",[t._v(t._s(t.title))]),t.subtitle?a("div",{staticClass:"app-modal-form-title-subtitle grayed",domProps:{innerHTML:t._s(t.subtitle)}}):t._e()])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("b-button",{attrs:{variant:"secondary"},on:{click:function(e){return t.$bvModal.hide(t.id)}}},[t._v(t._s(t.$t("cancel")))]),a("app-button",{on:{click:t.onSubmit}},[t._v(t._s(t.okTitle))])]},proxy:!0}])},[a("b-alert",{staticClass:"app-modal-form-alert",attrs:{variant:t.alertVariant,dismissible:""},domProps:{innerHTML:t._s(t.alertMsg)},model:{value:t.showAlert,callback:function(e){t.showAlert=e},expression:"showAlert"}}),a("form",{on:{submit:t.onSubmit}},[t._t("default")],2)],1)},n=[];s._withStripped=!0;var i=a(24),r=a(25),l=a(31),o=a(30),u=a(40),c=(a(61),a(26),a(15)),p=a(33),d=a(246),f=function(t,e,a,s){var n,i=arguments.length,r=i<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,a):s;if("object"===("undefined"===typeof Reflect?"undefined":Object(u["a"])(Reflect))&&"function"===typeof Reflect.decorate)r=Reflect.decorate(t,e,a,s);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r},m=function(t){Object(l["a"])(a,t);var e=Object(o["a"])(a);function a(){var t;return Object(i["a"])(this,a),t=e.apply(this,arguments),t.showAlert=!1,t.alertMsg="",t.alertVariant="default",t}return Object(r["a"])(a,[{key:"show",value:function(){this.$bvModal.show(this.id||"")}},{key:"hide",value:function(){this.hideAlert(),this.$bvModal.hide(this.id||"")}},{key:"alertError",value:function(t){if(this.alertVariant="danger",this.showAlert=!0,console.error(t),"string"===typeof t)this.alertMsg=t;else{this.alertMsg=t.error;var e=t.details||t.message;e&&(this.alertMsg+="<br><small>Details: "+e+"</small>")}}},{key:"alertInfo",value:function(t){this.alertVariant="primary",this.showAlert=!0,this.alertMsg=t}},{key:"onSubmit",value:function(t){this.$emit("submit")}},{key:"hideAlert",value:function(){this.showAlert=!1,this.alertMsg=""}}]),a}(c["default"]);f([Object(p["b"])({required:!0})],m.prototype,"id",void 0),f([Object(p["b"])({required:!0})],m.prototype,"title",void 0),f([Object(p["b"])()],m.prototype,"subtitle",void 0),f([Object(p["b"])({required:!0})],m.prototype,"okTitle",void 0),m=f([Object(p["a"])({name:"app-modal-form",components:{AppButton:d["a"]}})],m);var h=m,v=h,y=(a(262),a(39)),b=Object(y["a"])(v,s,n,!1,null,null,null);b.options.__file="src/app/shared/components/app-modal/app-modal-form.vue";e["a"]=b.exports},266:function(t,e,a){"use strict";var s=a(18),n=a(57),i=a(41),r=a(20),l=a(130),o=[],u=o.sort,c=r((function(){o.sort(void 0)})),p=r((function(){o.sort(null)})),d=l("sort"),f=c||!p||!d;s({target:"Array",proto:!0,forced:f},{sort:function(t){return void 0===t?u.call(i(this)):u.call(i(this),n(t))}})},267:function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));var s=a(24),n=a(25),i=function(){function t(){Object(s["a"])(this,t)}return Object(n["a"])(t,null,[{key:"download",value:function(t,e){var a=document.createElement("a");a.href=t,a.setAttribute("download",e||t),document.body.appendChild(a),a.click()}}]),t}()},272:function(t,e,a){},273:function(t,e,a){},307:function(t,e,a){"use strict";a(272)},308:function(t,e,a){"use strict";a(273)},343:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("app-content",{attrs:{title:t.$t("analysis-overview"),subtitle:t.$t("analysis-overview_descr")}},[a("div",{staticClass:"app-analysis"},[a("router-link",{attrs:{to:{name:"AnalysisNew"}}},[a("b-button",{attrs:{variant:"primary"}},[t._v(t._s(t.createNewAnalysisBtnText))])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.plants,expression:"plants"}],staticClass:"app-analysis-plants-filter pull-right"},[a("b-form-select",{staticClass:"app-analysis-plants-filter-select",attrs:{id:"plants",options:t.plants},on:{change:t.onPlantSelectionChanged},model:{value:t.selectedPlantId,callback:function(e){t.selectedPlantId=e},expression:"selectedPlantId"}}),a("label",{staticClass:"app-analysis-plants-filter-label",attrs:{for:"plants"}},[t._v(t._s(t.$t("plant")))])],1),a("div",{staticClass:"clear"}),a("app-table-container",[a("b-table",{attrs:{hover:"",fields:t.columns,items:t.analysisRows,"head-variant":"light","show-empty":"",emptyText:t.$t("no-data"),busy:t.isLoading},scopedSlots:t._u([{key:"table-busy",fn:function(){return[a("div",{staticClass:"text-center"},[a("b-spinner",{staticClass:"align-middle"})],1)]},proxy:!0},{key:"empty",fn:function(e){return[a("span",{staticClass:"grayed"},[t._v(t._s(e.emptyText))])]}},{key:"head(actions)",fn:function(){return[a("span",{staticClass:"hidden"},[t._v(t._s(t.$t("actions")))])]},proxy:!0},{key:"cell(user)",fn:function(e){return[e.item.user.userName?a("span",[t._v(" "+t._s(e.item.user.userName)),a("br"),a("small",{staticClass:"grayed"},[t._v(t._s(e.item.user.email))])]):a("span",[t._v(t._s(e.item.user.email))])]}},{key:"cell(state)",fn:function(e){return[e.item.state?a("div",[t._v(" "+t._s(t.$t(e.item.state.state.name))+" "),"UPLOADING"===e.item.state.state.name?a("span",[t._v(" "+t._s(t.uploadStateProcess))]):t._e(),a("br"),a("small",{staticClass:"grayed"},[t._v(t._s(t.trans(t.getTimeDiff(e.item.state.started_at))))])]):a("div",[t._v("UNKNOWN")])]}},{key:"cell(hasResults)",fn:function(t){return[a("b-icon",{directives:[{name:"show",rawName:"v-show",value:t.item.analysisResultId,expression:"row.item.analysisResultId"}],staticClass:"font-xl text-success",attrs:{icon:"check"}})]}},{key:"cell(actions)",fn:function(e){return[a("div",{staticClass:"hover-cell pull-right"},[a("b-dropdown",{attrs:{right:"",size:"sm",variant:"secondary",title:t.$t("download...")},scopedSlots:t._u([{key:"button-content",fn:function(){return[a("b-icon",{attrs:{icon:"cloud-download"}})]},proxy:!0}],null,!0)},t._l(t.getAnalysisFiles(e),(function(s){return a("b-dropdown-item",{key:s,on:{click:function(a){return t.onFileClick(e.item,s)}}},[t._v(" "+t._s(s)+" ")])})),1),a("b-dropdown",{directives:[{name:"show",rawName:"v-show",value:t.canUpdateState(e.item.state),expression:"canUpdateState(row.item.state)"}],attrs:{right:"",size:"sm",variant:"secondary",title:t.$t("update-analysis-state")},scopedSlots:t._u([{key:"button-content",fn:function(){return[a("b-icon",{attrs:{icon:"flag"}})]},proxy:!0}],null,!0)},t._l(t.getPossibleUpdateStates(e.item.state),(function(s){return a("b-dropdown-item",{key:s,on:{click:function(a){return t.onUpdateStateClick(e.item,s)}}},[t._v(" "+t._s(t.$t(s))+" ")])})),1),a("b-button",{directives:[{name:"show",rawName:"v-show",value:t.isSuperAdmin,expression:"isSuperAdmin"}],attrs:{variant:"secondary",size:"sm",title:t.$t("manage-result-files")},on:{click:function(a){return t.onManageResultFilesClick(e.item)}}},[a("b-icon",{attrs:{icon:"hammer"}})],1),e.item.analysisResultId?a("router-link",{attrs:{title:t.$t("show-results"),to:{name:"Plant",params:{id:e.item.plantId},query:{view:"table",result:e.item.analysisResultId}}}},[a("b-button",{attrs:{variant:"primary",size:"sm"}},[a("b-icon",{attrs:{icon:"graph-up"}})],1)],1):t._e()],1),a("div",{staticClass:"clearfix"})]}}])})],1),a("app-modal-form",{ref:"appUpdateStateModal",attrs:{id:"update-state-modal",title:t.$t("update-analysis-state"),subtitle:t.$t("update-analysis-state_descr"),"ok-title":t.$t("update")},on:{submit:t.changeAnalysisState}},[t.updateStateData.state?a("app-modal-form-info-area",{domProps:{innerHTML:t._s(t.$t("update-analysis-state-to",{state:t.$t(t.updateStateData.state).toString()}))}}):t._e(),a("b-form-group",{attrs:{label:t.$t("message"),"label-for":"message"}},[a("b-form-textarea",{attrs:{id:"message",placeholder:t.$t("message"),row:"5"},model:{value:t.updateStateData.message,callback:function(e){t.$set(t.updateStateData,"message",e)},expression:"updateStateData.message"}})],1)],1),a("app-modal-form",{ref:"appManageResultFilesModal",attrs:{id:"manage-result-files-modal",title:t.$t("manage-result-files"),subtitle:t.$t("manage-result-files_descr"),"ok-title":t.$t("apply")},on:{submit:t.saveManageResultFiles}},[a("b-form-group",{directives:[{name:"show",rawName:"v-show",value:t.manageImportFiles.analysisResultId,expression:"manageImportFiles.analysisResultId"}]},[a("b-form-checkbox",{attrs:{id:"removeAllAnalysisResultFiles"},model:{value:t.manageImportFiles.removeAllAnalysisResultFiles,callback:function(e){t.$set(t.manageImportFiles,"removeAllAnalysisResultFiles",e)},expression:"manageImportFiles.removeAllAnalysisResultFiles"}},[t._v(" "+t._s(t.$t("remove-result-files"))+" ("+t._s(t.manageImportFiles.importedResultFiles)+") ")])],1),a("b-form-group",{attrs:{label:t.$t("select-json-result-file-import")}},[a("b-form-file",{attrs:{accept:".json"},model:{value:t.manageImportFiles.jsonFile,callback:function(e){t.$set(t.manageImportFiles,"jsonFile",e)},expression:"manageImportFiles.jsonFile"}})],1),a("b-form-group",{attrs:{label:t.$t("select-result-image-files")}},[a("b-form-file",{attrs:{accept:"image/png, image/jpeg",multiple:""},model:{value:t.manageImportFiles.imageFiles,callback:function(e){t.$set(t.manageImportFiles,"imageFiles",e)},expression:"manageImportFiles.imageFiles"}})],1)],1)],1)])},n=[];s._withStripped=!0;var i=a(64),r=a(16),l=a(24),o=a(25),u=a(31),c=a(30),p=a(40),d=(a(62),a(61),a(26),a(243),a(124),a(266),a(95),a(129),a(96),a(259),a(33)),f=a(79),m=a(254),h=a(74),v=a(63),y=a(245),b=a(265),g=a(271),w=a(78),_=a(267),k=a(264),R=a(263),S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-modal-form-info-area"},[t._t("default")],2)},F=[];S._withStripped=!0;var x=a(15),A=function(t,e,a,s){var n,i=arguments.length,r=i<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,a):s;if("object"===("undefined"===typeof Reflect?"undefined":Object(p["a"])(Reflect))&&"function"===typeof Reflect.decorate)r=Reflect.decorate(t,e,a,s);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r},I=function(t){Object(u["a"])(a,t);var e=Object(c["a"])(a);function a(){return Object(l["a"])(this,a),e.apply(this,arguments)}return Object(o["a"])(a)}(x["default"]);I=A([Object(d["a"])({name:"app-modal-form-info-area"})],I);var O=I,j=O,$=(a(307),a(39)),M=Object($["a"])(j,S,F,!1,null,null,null);M.options.__file="src/app/shared/components/app-modal/app-modal-form-info-area.vue";var P=M.exports,C=a(49),D=function(t,e,a,s){var n,i=arguments.length,r=i<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,a):s;if("object"===("undefined"===typeof Reflect?"undefined":Object(p["a"])(Reflect))&&"function"===typeof Reflect.decorate)r=Reflect.decorate(t,e,a,s);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(r=(i<3?n(r):i>3?n(e,a,r):n(e,a))||r);return i>3&&r&&Object.defineProperty(e,a,r),r},U=function(t){Object(u["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(l["a"])(this,a),t=e.apply(this,arguments),t.columns=[],t.plants=null,t.selectedPlantId=null,t.analysisRows=[],t.isLoading=!0,t.createNewAnalysisBtnText="",t.uploadStateProcess="",t.updateStateData={message:"",state:void 0,analysisId:void 0},t.manageImportFiles={analysisResultId:"",removeAllAnalysisResultFiles:!1,importedResultFiles:""},t}return Object(o["a"])(a,[{key:"created",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.createNewAnalysisBtnText=this.$t("new-data-upload").toString(),this.columns=[{key:"name",label:this.$t("name").toString(),sortable:!0},{key:"plant",label:this.$t("plant").toString(),sortable:!0},{key:"date",label:this.$t("created-at").toString(),sortable:!0},{key:"user",label:this.$t("created-by").toString(),sortable:!0},{key:"state",label:this.$t("state").toString(),sortable:!0},{key:"hasResults",label:this.$t("has-results").toString()},{key:"actions"}],t.next=4,this.getPlants();case 4:return t.next=6,this.updateAnalysisRows();case 6:this.checkUploadState();case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"mounted",value:function(){this.registerUploadEvents()}},{key:"registerUploadEvents",value:function(){var t=this;b["a"].on(k["a"].PROGRESS,(function(){t.updateToUploadState()})),b["a"].on(k["a"].COMPLETED,(function(){t.createNewAnalysisBtnText=t.$t("new-data-upload").toString(),t.updateTableRowState(t.$t("PICK_ME_UP").toString())})),b["a"].on(k["a"].FAILED,(function(){t.updateTableRowState(t.$t("UPLOAD_FAILED").toString())}))}},{key:"checkUploadState",value:function(){b["a"].hasState(k["b"].UPLOADING)&&this.updateToUploadState()}},{key:"trans",value:function(t){return this.$t.apply(this,Object(i["a"])(t)).toString()}},{key:"getAnalysisFiles",value:function(t){var e=[],a=t.item||{};return a.files&&a.id?(a.files.video_files&&(e=e.concat(a.files.video_files)),a.files.drone_metadata_files&&(e=e.concat(a.files.drone_metadata_files)),a.files.other_files&&(e=e.concat(a.files.other_files)),e.sort(),e):[]}},{key:"onFileClick",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,a){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h["a"].getAnalysisFileDownloadUrl(e.id,a);case 3:s=t.sent,_["a"].download(s.url,a),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),v["a"].showError(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"canUpdateState",value:function(t){return this.isSuperAdmin&&t&&-1!==[g["b"].PICK_ME_UP,g["b"].PROCESSING,g["b"].PROCESS_FAILED].indexOf(t.state.name)}},{key:"getPossibleUpdateStates",value:function(t){return t&&g["a"][t.state.name]||[]}},{key:"onUpdateStateClick",value:function(t,e){this.updateStateData.analysisId&&this.updateStateData.analysisId===t.id&&this.updateStateData.state===e||(this.updateStateData.message=""),this.updateStateData.analysisId=t.id,this.updateStateData.state=e,this.appUpdateStateModal.show()}},{key:"onManageResultFilesClick",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.manageImportFiles.analysisId=e.id,this.manageImportFiles.analysisResultId=e.analysisResultId,this.manageImportFiles.removeAllAnalysisResultFiles=!1,!this.manageImportFiles.analysisResultId){t.next=7;break}return t.next=6,h["a"].getAnalysisResultFiles(this.manageImportFiles.analysisResultId);case 6:this.manageImportFiles.importedResultFiles=t.sent.map((function(t){return t.filename})).join(", ");case 7:this.appManageResultFilesModal.show();case 8:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"onPlantSelectionChanged",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.updateAnalysisRows();case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"saveManageResultFiles",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,s=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,y["a"].startLoading(),e=function(){s.appManageResultFilesModal.hide(),v["a"].showSuccessAlert(s.$t("success-managing-result-files").toString()),y["a"].stopLoading(),s.updateAnalysisRows()},!this.manageImportFiles.analysisResultId||!this.manageImportFiles.removeAllAnalysisResultFiles){t.next=6;break}return t.next=6,h["a"].deleteAnalysisResult(this.manageImportFiles.analysisResultId);case 6:if(!this.manageImportFiles.jsonFile){t.next=14;break}return this.appManageResultFilesModal.alertInfo("Uploading..."),t.next=10,h["a"].importAnalysisResult(this.manageImportFiles.jsonFile,this.manageImportFiles.analysisId,this.manageImportFiles.imageFiles,(function(t){s.appManageResultFilesModal.alertInfo("Uploading... "+t+"%")}));case 10:a=t.sent,h["a"].waitForTask(a.id,(function(t){y["a"].stopLoading(),"SUCCESS"===t.state?e():"FAILURE"===t.state&&s.appManageResultFilesModal.alertError({error:C["a"].SOMETHING_WENT_WRONG,details:t.result})}),(function(t){s.appManageResultFilesModal.alertInfo(t)})),t.next=15;break;case 14:e();case 15:t.next=21;break;case 17:t.prev=17,t.t0=t["catch"](0),this.appManageResultFilesModal.alertError(t.t0),y["a"].stopLoading();case 21:case"end":return t.stop()}}),t,this,[[0,17]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"changeAnalysisState",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.appUpdateStateModal.hideAlert(),y["a"].startLoading(),this.updateAnalysisState();case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"updateAnalysisState",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h["a"].updateAnalysisState(this.updateStateData.analysisId,{state:this.updateStateData.state,message:this.updateStateData.message});case 3:return t.next=5,this.updateAnalysisRows();case 5:this.appUpdateStateModal.hide(),v["a"].showSuccessAlert(this.$t("update-analysis-state-success").toString()),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),this.appUpdateStateModal.alertError(t.t0.error);case 12:return t.prev=12,y["a"].stopLoading(),t.finish(12);case 15:case"end":return t.stop()}}),t,this,[[0,9,12,15]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"updateToUploadState",value:function(){this.updateTableRowState(Math.round(100*b["a"].progress())+"%")&&(this.createNewAnalysisBtnText=this.$t("return-to-upload").toString())}},{key:"updateTableRowState",value:function(t){var e=b["a"].getMetadata();return!(!this.analysisRows||!e)&&(this.uploadStateProcess=t,!0)}},{key:"updateAnalysisRows",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.isLoading=!0,t.prev=1,e=this.selectedPlantId&&{plant_id:this.selectedPlantId}||void 0,t.next=5,h["a"].getAllAnalysis(e);case 5:this.analysisRows=t.sent.map((function(t){var e={id:t.id,name:t.name,date:new Date(Date.parse(t.created_at)).toLocaleString(),user:t.user&&{userName:((t.user.first_name||"")+" "+(t.user.last_name||"")).trim(),email:t.user.email}||"",analysisResultId:t.analysis_result&&(a.isSuperAdmin||t.analysis_result.released)&&t.analysis_result.id||void 0,state:t.current_state,files:t.files,plantId:t.plant.id,plant:t.plant.name};return e})),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),v["a"].showError(t.t0);case 11:return t.prev=11,this.isLoading=!1,t.finish(11);case 14:case"end":return t.stop()}}),t,this,[[1,8,11,14]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"getPlants",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,h["a"].getAllPlants();case 2:e=t.sent,e.length>0&&(this.plants=e.map((function(t){return{value:t.id,text:t.name}})),this.plants.unshift({value:null,text:""}));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}]),a}(w["a"]);D([Object(d["c"])()],U.prototype,"appUpdateStateModal",void 0),D([Object(d["c"])()],U.prototype,"appManageResultFilesModal",void 0),U=D([Object(d["a"])({name:"app-analysis",components:{AppContent:f["a"],AppTableContainer:m["a"],AppModalForm:R["a"],AppModalFormInfoArea:P}})],U);var E=U,T=E,N=(a(308),Object($["a"])(T,s,n,!1,null,null,null));N.options.__file="src/app/analysis/analysis.vue";e["default"]=N.exports}}]);