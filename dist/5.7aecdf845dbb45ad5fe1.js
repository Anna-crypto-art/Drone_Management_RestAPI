(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{270:function(t,e,a){},271:function(t,e,a){},272:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:"app-table-container "+(t.size?"app-table-container-"+t.size:"")},[t._t("default")],2)},n=[];s._withStripped=!0;var r=a(20),i=a(19),l=a(25),o=a(24),c=a(32),u=(a(53),a(23),a(16)),p=a(18),d=function(t,e,a,s){var n,r=arguments.length,i=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,a):s;if("object"===("undefined"===typeof Reflect?"undefined":Object(c["a"])(Reflect))&&"function"===typeof Reflect.decorate)i=Reflect.decorate(t,e,a,s);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(i=(r<3?n(i):r>3?n(e,a,i):n(e,a))||i);return r>3&&i&&Object.defineProperty(e,a,i),i},f=function(t){Object(l["a"])(a,t);var e=Object(o["a"])(a);function a(){return Object(i["a"])(this,a),e.apply(this,arguments)}return Object(r["a"])(a)}(u["default"]);d([Object(p["b"])({default:""})],f.prototype,"size",void 0),f=d([p["a"]],f);var m=f,h=m,v=(a(278),a(34)),b=Object(v["a"])(h,s,n,!1,null,null,null);b.options.__file="src/app/shared/components/app-table-container/app-table-container.vue";e["a"]=b.exports},274:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-modal",{staticClass:"app-modal-form",attrs:{id:t.id,"ok-title":t.okTitle,"no-close-on-backdrop":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[a("div",{staticClass:"app-modal-form-title"},[t._t("modal-title",[a("h2",[t._v(t._s(t.title)+" "),t.superAdminProtected?a("app-super-admin-marker"):t._e()],1),t.subtitle?a("div",{staticClass:"app-modal-form-title-subtitle grayed",domProps:{innerHTML:t._s(t.subtitle)}}):t._e()])],2)]},proxy:!0},{key:"modal-footer",fn:function(){return[a("b-button",{attrs:{variant:"secondary"},on:{click:function(e){return t.$bvModal.hide(t.id)}}},[t._v(t._s(t.$t("cancel")))]),a("app-button",{attrs:{loading:t.modalLoading},on:{click:t.onSubmit}},[t._v(t._s(t.okTitle))])]},proxy:!0}],null,!0)},[a("b-alert",{staticClass:"app-modal-form-alert",attrs:{variant:t.alertVariant,dismissible:""},domProps:{innerHTML:t._s(t.alertMsg)},model:{value:t.showAlert,callback:function(e){t.showAlert=e},expression:"showAlert"}}),a("form",{on:{submit:t.onSubmit}},[t._t("default")],2)],1)},n=[];s._withStripped=!0;var r=a(19),i=a(20),l=a(25),o=a(24),c=a(32),u=(a(53),a(23),a(18)),p=a(142),d=a(46),f=a(69),m=function(t,e,a,s){var n,r=arguments.length,i=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,a):s;if("object"===("undefined"===typeof Reflect?"undefined":Object(c["a"])(Reflect))&&"function"===typeof Reflect.decorate)i=Reflect.decorate(t,e,a,s);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(i=(r<3?n(i):r>3?n(e,a,i):n(e,a))||i);return r>3&&i&&Object.defineProperty(e,a,i),i},h=function(t){Object(l["a"])(a,t);var e=Object(o["a"])(a);function a(){var t;return Object(r["a"])(this,a),t=e.apply(this,arguments),t.showAlert=!1,t.alertMsg="",t.alertVariant="default",t}return Object(i["a"])(a,[{key:"show",value:function(){this.$bvModal.show(this.id||"")}},{key:"hide",value:function(){this.hideAlert(),this.$bvModal.hide(this.id||"")}},{key:"alertError",value:function(t){if(this.alertVariant="danger",this.showAlert=!0,console.error(t),"string"===typeof t)this.alertMsg=t;else{this.alertMsg=t.error;var e=t.details||t.message;e&&(this.alertMsg+="<br><small>Details: "+e+"</small>")}}},{key:"alertInfo",value:function(t){this.alertVariant="primary",this.showAlert=!0,this.alertMsg=t}},{key:"onSubmit",value:function(t){this.$emit("submit")}},{key:"hideAlert",value:function(){this.showAlert=!1,this.alertMsg=""}}]),a}(d["a"]);m([Object(u["b"])({required:!0})],h.prototype,"id",void 0),m([Object(u["b"])({default:""})],h.prototype,"title",void 0),m([Object(u["b"])()],h.prototype,"subtitle",void 0),m([Object(u["b"])({required:!0})],h.prototype,"okTitle",void 0),m([Object(u["b"])({default:!1})],h.prototype,"modalLoading",void 0),m([Object(u["b"])({default:!1})],h.prototype,"superAdminProtected",void 0),h=m([Object(u["a"])({name:"app-modal-form",components:{AppButton:p["a"],AppSuperAdminMarker:f["a"]}})],h);var v=h,b=v,y=(a(277),a(34)),_=Object(y["a"])(b,s,n,!1,null,null,null);_.options.__file="src/app/shared/components/app-modal/app-modal-form.vue";e["a"]=_.exports},275:function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"b",(function(){return i}));var s,n,r=a(57);(function(t){t[t["EMPTY"]=0]="EMPTY",t[t["UPLOADING"]=1]="UPLOADING",t[t["UPLOAD_FAILED"]=2]="UPLOAD_FAILED",t[t["DATA_INCOMPLETE"]=3]="DATA_INCOMPLETE",t[t["DATA_COMPLETE"]=4]="DATA_COMPLETE",t[t["DATA_COMPLETE_VERIFIED"]=5]="DATA_COMPLETE_VERIFIED",t[t["PROCESSING"]=6]="PROCESSING",t[t["FINISHED"]=7]="FINISHED"})(n||(n={}));var i=(s={},Object(r["a"])(s,n.EMPTY,"EMPTY"),Object(r["a"])(s,n.UPLOADING,"UPLOADING"),Object(r["a"])(s,n.UPLOAD_FAILED,"UPLOAD_FAILED"),Object(r["a"])(s,n.DATA_INCOMPLETE,"DATA_INCOMPLETE"),Object(r["a"])(s,n.DATA_COMPLETE,"DATA_COMPLETE"),Object(r["a"])(s,n.DATA_COMPLETE_VERIFIED,"DATA_COMPLETE_VERIFIED"),Object(r["a"])(s,n.PROCESSING,"PROCESSING"),Object(r["a"])(s,n.FINISHED,"FINISHED"),s)},276:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},277:function(t,e,a){"use strict";a(270)},278:function(t,e,a){"use strict";a(271)},280:function(t,e,a){"use strict";var s=a(21),n=a(285).trim,r=a(286);s({target:"String",proto:!0,forced:r("trim")},{trim:function(){return n(this)}})},285:function(t,e,a){var s=a(79),n=a(276),r="["+n+"]",i=RegExp("^"+r+r+"*"),l=RegExp(r+r+"*$"),o=function(t){return function(e){var a=String(s(e));return 1&t&&(a=a.replace(i,"")),2&t&&(a=a.replace(l,"")),a}};t.exports={start:o(1),end:o(2),trim:o(3)}},286:function(t,e,a){var s=a(27),n=a(276),r="​᠎";t.exports=function(t){return s((function(){return!!n[t]()||r[t]()!=r||n[t].name!==t}))}},299:function(t,e,a){},300:function(t,e,a){},347:function(t,e,a){"use strict";a(299)},348:function(t,e,a){"use strict";a(300)},399:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("app-content",{attrs:{title:t.$t("analysis-overview"),subtitle:t.$t("analysis-overview_descr")}},[a("div",{staticClass:"app-analysis"},[t.hasCompleteAnalysesOnly?a("b-button",{attrs:{variant:"primary"},on:{click:t.onNewDataUploadClick}},[t._v(" "+t._s(t.$t("new-data-upload"))+" ")]):t._e(),a("b-alert",{staticClass:"mar-bottom-2x",attrs:{show:!!t.incompleteAnalysis,variant:"info"}},[t.incompleteAnalysis?a("span",{domProps:{innerHTML:t._s(t.$t("new-upload-not-allowed_descr",{analysis:t.incompleteAnalysis.name}))}}):t._e()]),t.incompleteAnalysis?a("router-link",{attrs:{to:{name:"EditAnalysis",params:{id:t.incompleteAnalysis.id}}}},[a("b-button",{attrs:{variant:"primary"}},[t._v(" "+t._s(t.$t("upload-data-for-analysis",{analysis:t.incompleteAnalysis.name}))+" ")])],1):t._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:t.plantSelection,expression:"plantSelection"}],staticClass:"app-analysis-plants-filter pull-right"},[a("b-form-select",{staticClass:"app-analysis-plants-filter-select",attrs:{id:"plants",options:t.plantSelection},on:{change:t.onPlantSelectionChanged},model:{value:t.selectedPlantId,callback:function(e){t.selectedPlantId=e},expression:"selectedPlantId"}}),a("label",{staticClass:"app-analysis-plants-filter-label",attrs:{for:"plants"}},[t._v(t._s(t.$t("plant")))])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.customers,expression:"customers"}],staticClass:"app-analysis-customer-filter pull-right"},[a("b-form-select",{staticClass:"app-analysis-customers-filter-select",attrs:{id:"customers",options:t.customers},on:{change:t.onCustomerSelectionChanged},model:{value:t.selectedCustomerId,callback:function(e){t.selectedCustomerId=e},expression:"selectedCustomerId"}}),a("label",{staticClass:"app-analysis-customers-filter-label",attrs:{for:"customers"}},[t._v(t._s(t.$t("customer")))])],1),a("div",{staticClass:"clear"}),a("app-table-container",[a("b-table",{attrs:{hover:"",fields:t.columns,items:t.analysisRows,"head-variant":"light","show-empty":"",emptyText:t.$t("no-data"),busy:t.isLoading},scopedSlots:t._u([{key:"table-busy",fn:function(){return[a("div",{staticClass:"text-center"},[a("b-spinner",{staticClass:"align-middle"})],1)]},proxy:!0},{key:"empty",fn:function(e){return[a("span",{staticClass:"grayed"},[t._v(t._s(e.emptyText))])]}},{key:"head(actions)",fn:function(){return[a("span",{staticClass:"hidden"},[t._v(t._s(t.$t("actions")))])]},proxy:!0},{key:"cell(name)",fn:function(e){return[a("router-link",{attrs:{to:{name:"EditAnalysis",params:{id:e.item.id}}}},[t._v(t._s(e.item.name))])]}},{key:"cell(plant)",fn:function(e){return[t._v(" "+t._s(e.item.plant)),a("br"),a("small",{staticClass:"grayed"},[t._v(t._s(e.item.customer))])]}},{key:"cell(user)",fn:function(e){return[e.item.user.userName?a("span",[t._v(" "+t._s(e.item.user.userName)),a("br"),a("small",{staticClass:"grayed"},[t._v(t._s(e.item.user.email))])]):a("span",[t._v(t._s(e.item.user.email))])]}},{key:"cell(state)",fn:function(e){return[e.item.state?a("div",[t._v(" "+t._s(t.$t(e.item.state.state.name))+" "),a("br"),a("small",{staticClass:"grayed"},[t._v(t._s(t.trans(t.getTimeDiff(e.item.state.started_at))))])]):a("div",[t._v("UNKNOWN")])]}},{key:"cell(hasResults)",fn:function(e){return[a("b-icon",{directives:[{name:"show",rawName:"v-show",value:t.hasResult(e.item)&&!t.hasReleasedResult(e.item),expression:"hasResult(row.item) && !hasReleasedResult(row.item)"}],staticClass:"font-xl text-success",attrs:{icon:"check"}}),a("b-icon",{directives:[{name:"show",rawName:"v-show",value:t.hasReleasedResult(e.item),expression:"hasReleasedResult(row.item)"}],staticClass:"font-xl text-success",attrs:{icon:"check-all"}})]}},{key:"cell(actions)",fn:function(e){return[a("div",{staticClass:"hover-cell pull-right"},[t.hasReadableResult(e.item)?a("router-link",{attrs:{title:t.$t("show-results"),to:{name:"Plant",params:{id:e.item.plantId},query:{view:"table",result:e.item.analysisResult.id}}}},[a("b-button",{attrs:{variant:"primary",size:"sm"}},[a("b-icon",{attrs:{icon:"graph-up"}})],1)],1):t._e()],1),a("div",{staticClass:"clearfix"})]}}])})],1)],1)])},n=[];s._withStripped=!0;var r=a(68),i=a(8),l=a(14),o=a(19),c=a(20),u=a(25),p=a(24),d=a(32),f=(a(53),a(23),a(109),a(144),a(110),a(143),a(92),a(206),a(280),a(93)),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-modal-form-info-area"},[t._t("default")],2)},h=[];m._withStripped=!0;var v=a(16),b=a(18),y=function(t,e,a,s){var n,r=arguments.length,i=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,a):s;if("object"===("undefined"===typeof Reflect?"undefined":Object(d["a"])(Reflect))&&"function"===typeof Reflect.decorate)i=Reflect.decorate(t,e,a,s);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(i=(r<3?n(i):r>3?n(e,a,i):n(e,a))||i);return r>3&&i&&Object.defineProperty(e,a,i),i},_=function(t){Object(u["a"])(a,t);var e=Object(p["a"])(a);function a(){return Object(o["a"])(this,a),e.apply(this,arguments)}return Object(c["a"])(a)}(v["default"]);_=y([Object(b["a"])({name:"app-modal-form-info-area"})],_);var O=_,A=O,w=(a(347),a(34)),g=Object(w["a"])(A,m,h,!1,null,null,null);g.options.__file="src/app/shared/components/app-modal/app-modal-form-info-area.vue";var j=g.exports,k=a(274),R=a(272),C=a(46),E=a(145),P=a(275),I=a(56),x=function(t,e,a,s){var n,r=arguments.length,i=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,a):s;if("object"===("undefined"===typeof Reflect?"undefined":Object(d["a"])(Reflect))&&"function"===typeof Reflect.decorate)i=Reflect.decorate(t,e,a,s);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(i=(r<3?n(i):r>3?n(e,a,i):n(e,a))||i);return r>3&&i&&Object.defineProperty(e,a,i),i},S=function(t){Object(u["a"])(a,t);var e=Object(p["a"])(a);function a(){var t;return Object(o["a"])(this,a),t=e.apply(this,arguments),t.columns=[],t.plantSelection=null,t.selectedPlantId=null,t.customers=null,t.selectedCustomerId=null,t.analysisRows=null,t.isLoading=!0,t.createNewAnalysisBtnText="",t.uploadStateProcess="",t}return Object(c["a"])(a,[{key:"created",value:function(){var t=Object(l["a"])(Object(i["a"])().mark((function t(){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.createNewAnalysisBtnText=this.$t("new-data-upload").toString(),this.columns=[{key:"name",label:this.$t("name").toString(),sortable:!0},{key:"plant",label:this.$t("plant").toString(),sortable:!0},{key:"date",label:this.$t("acquisition-date").toString(),sortable:!0,formatter:function(t){return E["a"].toDate(t)}},{key:"user",label:this.$t("created-by").toString(),sortable:!0},{key:"state",label:this.$t("state").toString(),sortable:!0},{key:"hasResults",label:this.$t("has-results-released").toString()},{key:"actions"}],t.next=4,this.getPlants();case 4:return t.next=6,this.updateAnalysisRows();case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"trans",value:function(t){return this.$t.apply(this,Object(r["a"])(t)).toString()}},{key:"onPlantSelectionChanged",value:function(){var t=Object(l["a"])(Object(i["a"])().mark((function t(){var e,a=this;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.selectedPlantId?(e=this.plants.find((function(t){return t.id===a.selectedPlantId})),e.customers&&e.customers.length>1?this.customers=[{value:null,text:""}].concat(Object(r["a"])(e.customers.map((function(t){return{value:t.id,text:t.name}})))):this.customers=null):this.customers=null,t.next=3,this.updateAnalysisRows();case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"onCustomerSelectionChanged",value:function(){var t=Object(l["a"])(Object(i["a"])().mark((function t(){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.updateAnalysisRows();case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"hasCompleteAnalysesOnly",get:function(){return this.analysisRows&&0===this.incompleteAnalyses.length||!1}},{key:"incompleteAnalysis",get:function(){var t=this.incompleteAnalyses;return 1===t.length?t[0]:null}},{key:"incompleteAnalyses",get:function(){return this.analysisRows?this.analysisRows.filter((function(t){return t.state&&t.state.state.id<=P["a"].DATA_INCOMPLETE})):[]}},{key:"hasResult",value:function(t){return!!t.analysisResult}},{key:"hasReleasedResult",value:function(t){var e;return(null===(e=t.analysisResult)||void 0===e?void 0:e.released)||!1}},{key:"hasReadableResult",value:function(t){return this.hasReleasedResult(t)||this.isSuperAdmin&&this.hasResult(t)}},{key:"onNewDataUploadClick",value:function(){if(this.hasCompleteAnalysesOnly){var t=this.selectedPlantId?{plantId:this.selectedPlantId}:void 0;this.$router.push({name:"AnalysisNew",query:t})}}},{key:"updateAnalysisRows",value:function(){var t=Object(l["a"])(Object(i["a"])().mark((function t(){var e;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.isLoading=!0,t.prev=1,e={},this.selectedPlantId&&(e.plant_id=this.selectedPlantId),this.selectedCustomerId&&(e.customer_id=this.selectedCustomerId),t.next=7,I["a"].getAllAnalysis(e);case 7:this.analysisRows=t.sent.map((function(t){var e={id:t.id,name:t.name,date:t.flown_at,user:t.user&&{userName:((t.user.first_name||"")+" "+(t.user.last_name||"")).trim(),email:t.user.email}||"",analysisResult:t.analysis_result,state:t.current_state,files:t.files,plantId:t.plant.id,plant:t.plant.name,customer:t.customer.name};return e})),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),this.showError(t.t0);case 13:return t.prev=13,this.isLoading=!1,t.finish(13);case 16:case"end":return t.stop()}}),t,this,[[1,10,13,16]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"getPlants",value:function(){var t=Object(l["a"])(Object(i["a"])().mark((function t(){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,I["a"].getPlants();case 3:this.plants=t.sent,this.plants.length>1&&(this.plantSelection=this.plants.map((function(t){return{value:t.id,text:t.name}})),this.plantSelection.unshift({value:null,text:""})),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),this.showError(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}()}]),a}(C["a"]);S=x([Object(b["a"])({name:"app-analysis",components:{AppContent:f["a"],AppTableContainer:R["a"],AppModalForm:k["a"],AppModalFormInfoArea:j}})],S);var D=S,T=D,L=(a(348),Object(w["a"])(T,s,n,!1,null,null,null));L.options.__file="src/app/analysis/analysis.vue";e["default"]=L.exports}}]);