(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{280:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},283:function(e,t,a){"use strict";var n=a(24),s=a(287).trim,r=a(289);n({target:"String",proto:!0,forced:r("trim")},{trim:function(){return s(this)}})},287:function(e,t,a){var n=a(81),s=a(280),r="["+s+"]",i=RegExp("^"+r+r+"*"),l=RegExp(r+r+"*$"),o=function(e){return function(t){var a=String(n(t));return 1&e&&(a=a.replace(i,"")),2&e&&(a=a.replace(l,"")),a}};e.exports={start:o(1),end:o(2),trim:o(3)}},289:function(e,t,a){var n=a(29),s=a(280),r="​᠎";e.exports=function(e){return n((function(){return!!s[e]()||r[e]()!=r||s[e].name!==e}))}},290:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return i}));var n,s,r=a(44);(function(e){e[e["EMPTY"]=0]="EMPTY",e[e["UPLOADING"]=1]="UPLOADING",e[e["UPLOAD_FAILED"]=2]="UPLOAD_FAILED",e[e["DATA_INCOMPLETE"]=3]="DATA_INCOMPLETE",e[e["DATA_COMPLETE"]=4]="DATA_COMPLETE",e[e["DATA_COMPLETE_VERIFIED"]=5]="DATA_COMPLETE_VERIFIED",e[e["PROCESSING"]=6]="PROCESSING",e[e["FINISHED"]=7]="FINISHED"})(s||(s={}));var i=(n={},Object(r["a"])(n,s.EMPTY,"EMPTY"),Object(r["a"])(n,s.UPLOADING,"UPLOADING"),Object(r["a"])(n,s.UPLOAD_FAILED,"UPLOAD_FAILED"),Object(r["a"])(n,s.DATA_INCOMPLETE,"DATA_INCOMPLETE"),Object(r["a"])(n,s.DATA_COMPLETE,"DATA_COMPLETE"),Object(r["a"])(n,s.DATA_COMPLETE_VERIFIED,"DATA_COMPLETE_VERIFIED"),Object(r["a"])(n,s.PROCESSING,"PROCESSING"),Object(r["a"])(n,s.FINISHED,"FINISHED"),n)},293:function(e,t,a){},305:function(e,t,a){"use strict";a(293)},306:function(e,t,a){},307:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));a(284);function n(e,t){return e.sort((function(e,a){var n=e[t].toLowerCase(),s=a[t].toLowerCase();return n<s?-1:n>s?1:0}))}},311:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:"app-modal-form-info-area "+e.cls},[e._t("default")],2)},s=[];n._withStripped=!0;var r=a(20),i=a(19),l=a(23),o=a(22),c=a(27),u=(a(46),a(21),a(17)),p=a(16),f=function(e,t,a,n){var s,r=arguments.length,i=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"===("undefined"===typeof Reflect?"undefined":Object(c["a"])(Reflect))&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,a,n);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(i=(r<3?s(i):r>3?s(t,a,i):s(t,a))||i);return r>3&&i&&Object.defineProperty(t,a,i),i},d=function(e){Object(l["a"])(a,e);var t=Object(o["a"])(a);function a(){return Object(i["a"])(this,a),t.apply(this,arguments)}return Object(r["a"])(a)}(u["default"]);f([Object(p["b"])({default:""})],d.prototype,"cls",void 0),d=f([Object(p["a"])({name:"app-modal-form-info-area"})],d);var m=d,h=m,v=(a(305),a(32)),b=Object(v["a"])(h,n,s,!1,null,null,null);b.options.__file="src/app/shared/components/app-modal/app-modal-form-info-area.vue";t["a"]=b.exports},316:function(e,t,a){"use strict";a(306)},320:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-table-filter"},[e._t("default")],2)},s=[];n._withStripped=!0;var r=a(20),i=a(19),l=a(23),o=a(22),c=a(27),u=(a(46),a(21),a(17)),p=a(16),f=function(e,t,a,n){var s,r=arguments.length,i=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"===("undefined"===typeof Reflect?"undefined":Object(c["a"])(Reflect))&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,a,n);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(i=(r<3?s(i):r>3?s(t,a,i):s(t,a))||i);return r>3&&i&&Object.defineProperty(t,a,i),i},d=function(e){Object(l["a"])(a,e);var t=Object(o["a"])(a);function a(){return Object(i["a"])(this,a),t.apply(this,arguments)}return Object(r["a"])(a)}(u["default"]);d=f([p["a"]],d);var m=d,h=m,v=(a(316),a(32)),b=Object(v["a"])(h,n,s,!1,null,null,null);b.options.__file="src/app/shared/components/app-table-filter/app-table-filter.vue";t["a"]=b.exports},321:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-iconstack",{class:e.cls},[a("b-icon",{attrs:{stacked:"",icon:"search",scale:"1.2"}}),a("b-icon",{attrs:{stacked:"",icon:e.fill?"bar-chart-fill":"bar-chart","shift-v":"2","shift-h":"-2",scale:"0.5"}})],1)},s=[];n._withStripped=!0;var r=a(20),i=a(19),l=a(23),o=a(22),c=a(27),u=(a(46),a(21),a(17)),p=a(16),f=function(e,t,a,n){var s,r=arguments.length,i=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"===("undefined"===typeof Reflect?"undefined":Object(c["a"])(Reflect))&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,a,n);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(i=(r<3?s(i):r>3?s(t,a,i):s(t,a))||i);return r>3&&i&&Object.defineProperty(t,a,i),i},d=function(e){Object(l["a"])(a,e);var t=Object(o["a"])(a);function a(){return Object(i["a"])(this,a),t.apply(this,arguments)}return Object(r["a"])(a)}(u["default"]);f([Object(p["b"])({default:""})],d.prototype,"cls",void 0),f([Object(p["b"])({default:!0})],d.prototype,"fill",void 0),d=f([Object(p["a"])({name:"app-icon-analysis"})],d);var m=d,h=m,v=a(32),b=Object(v["a"])(h,n,s,!1,null,null,null);b.options.__file="src/app/shared/components/app-icon/app-icon-analysis.vue";t["a"]=b.exports},330:function(e,t,a){},410:function(e,t,a){"use strict";a(330)},478:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("app-content",{attrs:{title:e.$t("analysis-overview"),subtitle:e.$t("analysis-overview_descr")}},[a("div",{staticClass:"app-analysis"},[e.hasCompleteAnalysesOnly?a("app-button",{attrs:{variant:"primary"},on:{click:e.onNewDataUploadClick}},[e._v(" "+e._s(e.$t("new-data-upload"))+" ")]):e._e(),a("b-alert",{staticClass:"mar-bottom-2x",attrs:{show:!!e.incompleteAnalysis,variant:"info"}},[e.incompleteAnalysis?a("span",{domProps:{innerHTML:e._s(e.$t("new-upload-not-allowed_descr",{analysis:e.incompleteAnalysis.name}))}}):e._e()]),e.incompleteAnalysis?a("router-link",{attrs:{to:{name:"EditAnalysis",params:{id:e.incompleteAnalysis.id}}}},[a("app-button",{attrs:{variant:"primary"}},[e._v(" "+e._s(e.$t("upload-data-for-analysis",{analysis:e.incompleteAnalysis.name}))+" ")])],1):e._e(),a("app-table-filter",{directives:[{name:"show",rawName:"v-show",value:e.plantSelection,expression:"plantSelection"}]},[a("label",{attrs:{for:"plants"}},[e._v(e._s(e.$t("plant")))]),a("b-form-select",{attrs:{id:"plants",options:e.plantSelection},on:{change:e.onPlantSelectionChanged},model:{value:e.selectedPlantId,callback:function(t){e.selectedPlantId=t},expression:"selectedPlantId"}})],1),a("div",{staticClass:"clear"}),a("app-table-container",[a("app-table",{attrs:{columns:e.columns,rows:e.analysisRows,loading:e.isLoading,hoverActions:!0},scopedSlots:e._u([{key:"cell(name)",fn:function(t){return[a("router-link",{attrs:{to:{name:"EditAnalysis",params:{id:t.item.id}}}},[e._v(e._s(t.item.name))]),a("div",[a("small",{staticClass:"grayed"},[e._v(e._s(t.item.user.userName||t.item.user.email))])])]}},{key:"cell(state)",fn:function(t){return[t.item.state?a("div",[e._v(" "+e._s(e.$t(t.item.state.state.name))+" "),a("b-icon",{directives:[{name:"show",rawName:"v-show",value:e.hasReleasedResult(t.item),expression:"hasReleasedResult(row.item)"},{name:"b-popover",rawName:"v-b-popover.hover.top",value:e.$t("results-available"),expression:"$t('results-available')",modifiers:{hover:!0,top:!0}}],staticClass:"text-success",attrs:{icon:"check"}}),a("b-icon",{directives:[{name:"show",rawName:"v-show",value:e.isSuperAdmin&&e.hasResult(t.item)&&!e.hasReleasedResult(t.item),expression:"isSuperAdmin && hasResult(row.item) && !hasReleasedResult(row.item)"},{name:"b-popover",rawName:"v-b-popover.hover.top",value:e.$t("results-available-super-admin-only"),expression:"$t('results-available-super-admin-only')",modifiers:{hover:!0,top:!0}}],staticClass:"text-success",attrs:{icon:"shield-check"}}),a("br"),a("small",{staticClass:"grayed"},[e._v(e._s(e.trans(e.getTimeDiff(t.item.state.started_at))))])],1):a("div",[e._v("UNKNOWN")])]}},{key:"cell(productPackages)",fn:function(e){return[a("app-order-pps-view",{attrs:{orderProductPackages:e.item.productPackages}})]}},{key:"hoverActions",fn:function(t){return[e.hasReadableResult(t.item)?a("router-link",{attrs:{title:e.$t("show-results"),to:{name:"Plant",params:{id:t.item.plantId},query:{view:"map",result:t.item.id}}}},[a("app-button",{attrs:{variant:"primary",size:"sm"}},[a("app-icon-analysis")],1)],1):e._e()]}}])})],1)],1)])},s=[];n._withStripped=!0;var r=a(59),i=a(6),l=a(11),o=a(19),c=a(20),u=a(23),p=a(22),f=a(27),d=(a(46),a(21),a(112),a(145),a(94),a(72),a(283),a(97)),m=a(311),h=a(147),v=a(281),b=a(279),y=a(320),O=a(313),A=a(16),_=a(42),w=a(307),j=a(146),P=a(290),R=a(60),E=a(321),g=a(47),k=a(277),I=a(71),D=function(e,t,a,n){var s,r=arguments.length,i=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"===("undefined"===typeof Reflect?"undefined":Object(f["a"])(Reflect))&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,a,n);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(i=(r<3?s(i):r>3?s(t,a,i):s(t,a))||i);return r>3&&i&&Object.defineProperty(t,a,i),i},S=function(e){Object(u["a"])(a,e);var t=Object(p["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.apply(this,arguments),e.columns=[],e.plantSelection=null,e.selectedPlantId=null,e.analysisRows=null,e.isLoading=!0,e.createNewAnalysisBtnText="",e.uploadStateProcess="",e}return Object(c["a"])(a,[{key:"created",value:function(){var e=Object(l["a"])(Object(i["a"])().mark((function e(){return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.createNewAnalysisBtnText=this.$t("new-data-upload").toString(),this.columns=[{key:"name",label:this.$t("name").toString(),sortable:!0},{key:"date",label:this.$t("acquisition-date").toString(),sortable:!0,formatter:function(e){return j["a"].toDate(e)}},{key:"state",label:this.$t("state").toString(),sortable:!0},{key:"productPackages",label:this.$t("product-packages").toString()}],this.isSuperAdmin&&this.columns.push({key:"customer",label:this.$t("customer").toString(),sortable:!0,superAdminOnly:!0}),e.next=5,this.getPlants();case 5:return e.next=7,this.updateAnalysisRows();case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"trans",value:function(e){return this.$t.apply(this,Object(r["a"])(e)).toString()}},{key:"onPlantSelectionChanged",value:function(){var e=Object(l["a"])(Object(i["a"])().mark((function e(){return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.updateAnalysisRows();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"hasCompleteAnalysesOnly",get:function(){return this.analysisRows&&0===this.incompleteAnalyses.length||!1}},{key:"incompleteAnalysis",get:function(){var e=this.incompleteAnalyses;return 1===e.length?e[0]:null}},{key:"incompleteAnalyses",get:function(){return this.analysisRows?this.analysisRows.filter((function(e){return e.state&&e.state.state.id<=P["a"].DATA_INCOMPLETE})):[]}},{key:"hasResult",value:function(e){return!!e.analysisResult}},{key:"hasReleasedResult",value:function(e){var t;return(null===(t=e.analysisResult)||void 0===t?void 0:t.released)||!1}},{key:"hasReadableResult",value:function(e){return this.hasReleasedResult(e)||this.isSuperAdmin&&this.hasResult(e)}},{key:"onNewDataUploadClick",value:function(){if(this.hasCompleteAnalysesOnly){var e=this.selectedPlantId?{plantId:this.selectedPlantId}:void 0;this.$router.push({name:"AnalysisNew",query:e})}}},{key:"updateAnalysisRows",value:function(){var e=Object(l["a"])(Object(i["a"])().mark((function e(){var t;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={},this.selectedPlantId&&(t.plant_id=this.selectedPlantId),e.next=4,g["a"].getAllAnalysis(t);case 4:this.analysisRows=e.sent.map((function(e){var t={id:e.id,name:e.name,date:e.flown_at,user:e.user&&{userName:((e.user.first_name||"")+" "+(e.user.last_name||"")).trim(),email:e.user.email}||"",analysisResult:e.analysis_result,state:e.current_state,files:e.files,plantId:e.plant.id,plant:e.plant.name,customer:e.customer.name,productPackages:e.order_product_packages};return t}));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getPlants",value:function(){var e=Object(l["a"])(Object(i["a"])().mark((function e(){return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=w["a"],e.next=3,g["a"].getPlants();case 3:e.t1=e.sent,this.plants=(0,e.t0)(e.t1,"name"),this.plants.length>1&&(this.plantSelection=this.plants.map((function(e){return{value:e.id,text:e.name}})),this.plantSelection.unshift({value:null,text:""}));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),a}(_["a"]);D([Object(k["a"])("isLoading")],S.prototype,"updateAnalysisRows",null),D([Object(k["a"])()],S.prototype,"getPlants",null),S=D([Object(A["a"])({name:"app-analysis",components:{AppContent:d["a"],AppTableContainer:v["a"],AppModalForm:h["a"],AppModalFormInfoArea:m["a"],AppTableFilter:y["a"],AppOrderPpsView:O["a"],AppSuperAdminMarker:R["a"],AppIconAnalysis:E["a"],AppTable:b["a"],AppButton:I["a"]}})],S);var T=S,C=T,N=(a(410),a(32)),x=Object(N["a"])(C,n,s,!1,null,null,null);x.options.__file="src/app/analysis/analysis.vue";t["default"]=x.exports}}]);