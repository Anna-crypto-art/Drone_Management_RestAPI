(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{278:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"app-explanation"},[a("span",{ref:"appExplTarget",staticClass:"app-explanation-container"},[a("b-icon",{attrs:{icon:"question-circle-fill"}})],1),a("b-popover",{attrs:{target:function(){return e.$refs.appExplTarget},triggers:"hover",placement:"top"}},[e._t("default")],2)],1)},c=[];n._withStripped=!0;var r=a(20),o=a(19),i=a(22),l=a(21),u=a(27),s=(a(46),a(23),a(17)),p=a(16),d=function(e,t,a,n){var c,r=arguments.length,o=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"===("undefined"===typeof Reflect?"undefined":Object(u["a"])(Reflect))&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,a,n);else for(var i=e.length-1;i>=0;i--)(c=e[i])&&(o=(r<3?c(o):r>3?c(t,a,o):c(t,a))||o);return r>3&&o&&Object.defineProperty(t,a,o),o},f=function(e){Object(i["a"])(a,e);var t=Object(l["a"])(a);function a(){return Object(o["a"])(this,a),t.apply(this,arguments)}return Object(r["a"])(a)}(s["default"]);f=d([Object(p["a"])({name:"app-explanation"})],f);var g=f,h=g,b=(a(287),a(32)),y=Object(b["a"])(h,n,c,!1,null,null,null);y.options.__file="src/app/shared/components/app-explanation/app-explanation.vue";t["a"]=y.exports},280:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-table"},[a("b-table",{ref:"appTable",class:{"app-table-compact":e.compact},attrs:{id:e.id,fields:e.fields,items:e.rows,hover:e.hover,busy:e.loading,emptyText:e.emptyText||e.$t("no-data"),selectable:null!==e.selectMode,"select-mode":e.selectMode,"per-page":e.perPage,"current-page":e.currentPage,"head-variant":"light","show-empty":""},on:{"row-selected":e.onRowSelected},scopedSlots:e._u([null!==e.loading?{key:"table-busy",fn:function(){return[a("div",{staticClass:"text-center"},[a("b-spinner",{staticClass:"align-middle"})],1)]},proxy:!0}:null,{key:"empty",fn:function(t){return[a("span",{staticClass:"grayed"},[e._v(e._s(t.emptyText))])]}},{key:"head()",fn:function(t){return[e._v(" "+e._s(t.label)+" "),t.field.superAdminOnly?a("app-super-admin-marker"):e._e(),t.field.labelExpl?a("app-explanation",[a("span",{domProps:{innerHTML:e._s(e.$t(t.field.labelExpl))}})]):e._e()]}},{key:"head(selected)",fn:function(){return[a("b-checkbox",{directives:[{name:"show",rawName:"v-show",value:e.enableAllSelection,expression:"enableAllSelection"}],on:{change:e.onSelectAllFiles}})]},proxy:!0},{key:"cell(selected)",fn:function(t){var n=t.rowSelected;return[a("b-checkbox",{directives:[{name:"show",rawName:"v-show",value:"multi"===e.selectMode,expression:"selectMode === 'multi'"}],staticClass:"b-table-selectable-checkbox",attrs:{checked:n,disabled:""}})]}},{key:"cell(actions)",fn:function(t){return[e.hoverActions?a("div",{staticClass:"hover-cell pull-right"},[e._t("hoverActions",null,null,t)],2):e._e(),e.hoverActions?a("div",{staticClass:"clear"}):e._e()]}},e._l(e.$scopedSlots,(function(t,a){return{key:a,fn:function(t){return[e._t(a,null,null,t)]}}}))],null,!0)})],1)},c=[];n._withStripped=!0;var r=a(6),o=a(11),i=a(19),l=a(20),u=a(22),s=a(21),p=a(27),d=(a(46),a(23),a(150),a(17)),f=a(60),g=a(278),h=a(16),b=function(e,t,a,n){var c,r=arguments.length,o=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"===("undefined"===typeof Reflect?"undefined":Object(p["a"])(Reflect))&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,a,n);else for(var i=e.length-1;i>=0;i--)(c=e[i])&&(o=(r<3?c(o):r>3?c(t,a,o):c(t,a))||o);return r>3&&o&&Object.defineProperty(t,a,o),o},y=function(e){Object(u["a"])(a,e);var t=Object(s["a"])(a);function a(){return Object(i["a"])(this,a),t.apply(this,arguments)}return Object(l["a"])(a,[{key:"created",value:function(){this.onColumnsChanged()}},{key:"onColumnsChanged",value:function(){var e=JSON.parse(JSON.stringify(this.columns));this.hoverActions&&e.push({key:"actions",label:""}),"multi"===this.selectMode&&e.unshift({key:"selected",label:""}),this.fields=e}},{key:"onSelectModeChanged",value:function(){this.onColumnsChanged()}},{key:"onRowSelected",value:function(e){this.$emit("rowSelected",e)}},{key:"onSelectAllFiles",value:function(e){e?this.appTable.selectAllRows():this.appTable.clearSelected()}},{key:"enableAllSelection",get:function(){return"multi"===this.selectMode&&this.selectAllColumns}},{key:"selectRow",value:function(e){this.appTable.selectRow(e)}},{key:"unselectRow",value:function(e){this.appTable.unselectRow(e)}},{key:"clearSelected",value:function(){this.appTable.clearSelected()}},{key:"selectAllRows",value:function(){this.appTable.selectAllRows()}},{key:"refresh",value:function(){var e=Object(o["a"])(Object(r["a"])().mark((function e(){return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.appTable.refresh();case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),a}(d["default"]);b([Object(h["b"])({required:!0})],y.prototype,"columns",void 0),b([Object(h["b"])({default:[]})],y.prototype,"rows",void 0),b([Object(h["b"])({default:null})],y.prototype,"id",void 0),b([Object(h["b"])({default:!0})],y.prototype,"hover",void 0),b([Object(h["b"])({default:""})],y.prototype,"emptyText",void 0),b([Object(h["b"])({default:!1})],y.prototype,"loading",void 0),b([Object(h["b"])({default:!1})],y.prototype,"hoverActions",void 0),b([Object(h["b"])({default:!1})],y.prototype,"compact",void 0),b([Object(h["b"])({default:null})],y.prototype,"perPage",void 0),b([Object(h["b"])({default:null})],y.prototype,"currentPage",void 0),b([Object(h["b"])({default:null})],y.prototype,"selectMode",void 0),b([Object(h["b"])({default:0})],y.prototype,"maxRowSelectoin",void 0),b([Object(h["b"])({default:!1})],y.prototype,"selectAllColumns",void 0),b([Object(h["c"])()],y.prototype,"appTable",void 0),b([Object(h["d"])("columns")],y.prototype,"onColumnsChanged",null),b([Object(h["d"])("selectMode")],y.prototype,"onSelectModeChanged",null),y=b([Object(h["a"])({name:"app-table",components:{AppSuperAdminMarker:f["a"],AppExplanation:g["a"]}})],y);var k=y,v=k,m=(a(291),a(32)),P=Object(m["a"])(v,n,c,!1,null,null,null);P.options.__file="src/app/shared/components/app-table/app-table.vue";t["a"]=P.exports},281:function(e,t,a){},282:function(e,t,a){"use strict";var n=a(24),c=a(74),r=a(50),o=a(29),i=a(148),l=[],u=l.sort,s=o((function(){l.sort(void 0)})),p=o((function(){l.sort(null)})),d=i("sort"),f=s||!p||!d;n({target:"Array",proto:!0,forced:f},{sort:function(e){return void 0===e?u.call(r(this)):u.call(r(this),c(e))}})},283:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:"app-table-container "+(e.size?"app-table-container-"+e.size:"")},[e._t("default")],2)},c=[];n._withStripped=!0;var r=a(20),o=a(19),i=a(22),l=a(21),u=a(27),s=(a(46),a(23),a(17)),p=a(16),d=function(e,t,a,n){var c,r=arguments.length,o=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"===("undefined"===typeof Reflect?"undefined":Object(u["a"])(Reflect))&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,a,n);else for(var i=e.length-1;i>=0;i--)(c=e[i])&&(o=(r<3?c(o):r>3?c(t,a,o):c(t,a))||o);return r>3&&o&&Object.defineProperty(t,a,o),o},f=function(e){Object(i["a"])(a,e);var t=Object(l["a"])(a);function a(){return Object(o["a"])(this,a),t.apply(this,arguments)}return Object(r["a"])(a)}(s["default"]);d([Object(p["b"])({default:""})],f.prototype,"size",void 0),f=d([p["a"]],f);var g=f,h=g,b=(a(290),a(32)),y=Object(b["a"])(h,n,c,!1,null,null,null);y.options.__file="src/app/shared/components/app-table-container/app-table-container.vue";t["a"]=y.exports},284:function(e,t,a){},285:function(e,t,a){},287:function(e,t,a){"use strict";a(281)},290:function(e,t,a){"use strict";a(284)},291:function(e,t,a){"use strict";a(285)},315:function(e,t,a){var n=a(81),c=a(316),r="["+c+"]",o=RegExp("^"+r+r+"*"),i=RegExp(r+r+"*$"),l=function(e){return function(t){var a=String(n(t));return 1&e&&(a=a.replace(o,"")),2&e&&(a=a.replace(i,"")),a}};e.exports={start:l(1),end:l(2),trim:l(3)}},316:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},319:function(e,t,a){"use strict";var n=a(39),c=a(33),r=a(155),o=a(49),i=a(38),l=a(61),u=a(328),s=a(98),p=a(29),d=a(86),f=a(118).f,g=a(75).f,h=a(48).f,b=a(315).trim,y="Number",k=c[y],v=k.prototype,m=l(d(v))==y,P=function(e){var t,a,n,c,r,o,i,l,u=s(e,!1);if("string"==typeof u&&u.length>2)if(u=b(u),t=u.charCodeAt(0),43===t||45===t){if(a=u.charCodeAt(2),88===a||120===a)return NaN}else if(48===t){switch(u.charCodeAt(1)){case 66:case 98:n=2,c=49;break;case 79:case 111:n=8,c=55;break;default:return+u}for(r=u.slice(2),o=r.length,i=0;i<o;i++)if(l=r.charCodeAt(i),l<48||l>c)return NaN;return parseInt(r,n)}return+u};if(r(y,!k(" 0o1")||!k("0b1")||k("+0x1"))){for(var O,_=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof _&&(m?p((function(){v.valueOf.call(a)})):l(a)!=y)?u(new k(P(t)),a,_):P(t)},j=n?f(k):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;j.length>w;w++)i(k,O=j[w])&&!i(_,O)&&h(_,O,g(k,O));_.prototype=v,v.constructor=_,o(c,y,_)}},328:function(e,t,a){var n=a(36),c=a(156);e.exports=function(e,t,a){var r,o;return c&&"function"==typeof(r=t.constructor)&&r!==a&&n(o=r.prototype)&&o!==a.prototype&&c(e,o),e}},329:function(e,t,a){"use strict";var n;a.d(t,"a",(function(){return n})),function(e){e[e["CSP_PTC"]=1]="CSP_PTC",e[e["PV"]=2]="PV"}(n||(n={}))},351:function(e,t,a){},429:function(e,t,a){"use strict";a(351)},487:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-settings-product-packages"},[a("div",{staticClass:"app-settings-product-packages-table-toolbar"},[a("app-button",{attrs:{variant:"primary"},on:{click:e.onCreateProductPackageClick}},[e._v(" "+e._s(e.$t("create-product-package"))+" ")])],1),a("app-table-container",[a("app-table",{attrs:{columns:e.columns,rows:e.rows,loading:e.loading,hoverActions:!0},scopedSlots:e._u([{key:"cell(name)",fn:function(t){return[a("span",{staticClass:"product-package-table-name"},[e._v(e._s(t.item.name))])]}},{key:"cell(technology)",fn:function(t){return[e._v(" "+e._s(t.item.technology_name)+" ")]}},{key:"cell(key_figures)",fn:function(t){return[a("span",{staticClass:"grayed"},[e._v(" "+e._s(t.item.key_figures.map((function(e){return e.name})).join(", "))+" ")])]}},{key:"hoverActions",fn:function(t){return[a("app-button",{attrs:{variant:"secondary",size:"sm",title:e.$t("edit-product-package",{product_package:t.item.name}),icon:"wrench"},on:{click:function(a){return e.onEditProductPackageClick(t.item)}}}),a("app-button",{attrs:{variant:"outline-danger",size:"sm",title:e.$t("delete-product-package",{product_package:t.item.name}),icon:"trash"},on:{click:function(a){return e.onDeleteProductPackageClick(t.item)}}})]}}])})],1),a("app-modal-form",{ref:"appProductPackageModal",attrs:{id:"product-package-modal",title:e.productPackageModalTitle,"ok-title":e.productPackageModalOkTitle,modalLoading:e.productPackageModalLoading},on:{submit:e.onSubmitProductPackage}},[e.currentProductPackage?a("b-row",[a("b-col",[a("b-form-group",{attrs:{label:e.$t("name")}},[a("b-form-input",{attrs:{id:"new-product-package-name",required:"",placeholder:e.$t("name")},model:{value:e.currentProductPackage.name,callback:function(t){e.$set(e.currentProductPackage,"name",t)},expression:"currentProductPackage.name"}})],1),a("b-form-group",{attrs:{label:e.$t("technology")}},[a("b-form-select",{attrs:{id:"new-plant-technology",options:e.technologies,required:""},on:{change:e.onTechnologySelectionChanged},model:{value:e.currentProductPackage.technology_id,callback:function(t){e.$set(e.currentProductPackage,"technology_id",t)},expression:"currentProductPackage.technology_id"}})],1),a("b-form-group",{attrs:{label:e.$t("performance-indicators")}},[a("app-multiselect",{attrs:{options:e.keyFigureOptions,required:""},model:{value:e.selectedKeyFigureIds,callback:function(t){e.selectedKeyFigureIds=t},expression:"selectedKeyFigureIds"}})],1)],1)],1):e._e()],1)],1)},c=[];n._withStripped=!0;var r=a(67),o=a(6),i=a(11),l=a(19),u=a(20),s=a(22),p=a(21),d=a(27),f=(a(46),a(23),a(112),a(94),a(72),a(282),a(319),a(16)),g=a(283),h=a(280),b=a(71),y=a(320),k=a(147),v=a(47),m=a(42),P=a(329),O=a(276),_=function(e,t,a,n){var c,r=arguments.length,o=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"===("undefined"===typeof Reflect?"undefined":Object(d["a"])(Reflect))&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,a,n);else for(var i=e.length-1;i>=0;i--)(c=e[i])&&(o=(r<3?c(o):r>3?c(t,a,o):c(t,a))||o);return r>3&&o&&Object.defineProperty(t,a,o),o},j=function(e){Object(s["a"])(a,e);var t=Object(p["a"])(a);function a(){var e;return Object(l["a"])(this,a),e=t.apply(this,arguments),e.columns=[],e.rows=[],e.keyFigureOptions=[],e.selectedKeyFigureIds=null,e.technologies=[],e.allKeyFigures=[],e.loading=!1,e.productPackageModalLoading=!1,e.productPackageModalTitle="",e.productPackageModalOkTitle="",e.currentProductPackage={id:0,name:"",technology_id:0,key_figures:[]},e}return Object(u["a"])(a,[{key:"created",value:function(){var e=Object(i["a"])(Object(o["a"])().mark((function e(){return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.columns=[{key:"name",label:this.$t("name").toString()},{key:"technology",label:this.$t("technology").toString()},{key:"key_figures",label:this.$t("performance-indicators").toString()}],e.next=3,v["a"].getTechnologies();case 3:return this.technologies=e.sent.map((function(e){return{value:e.id,text:e.abbrev}})),e.next=6,this.updateProductPackageRows();case 6:return e.next=8,v["a"].getAllKeyFigures();case 8:this.allKeyFigures=e.sent,this.updateKeyFigureOptions();case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"updateKeyFigureOptions",value:function(){var e,t=[],a=Object(r["a"])(this.allKeyFigures);try{for(a.s();!(e=a.n()).done;){var n=e.value;this.currentProductPackage.technology_id&&this.currentProductPackage.technology_id!=n.component.technology_id||t.push({id:n.id.toString(),label:n.name})}}catch(c){a.e(c)}finally{a.f()}this.keyFigureOptions=t}},{key:"updateProductPackageRows",value:function(){var e=Object(i["a"])(Object(o["a"])().mark((function e(){return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,v["a"].getProductPackagesWithKeyFigures();case 2:this.rows=e.sent.map((function(e){return{id:e.id,name:e.name,technology_name:P["a"][e.technology_id],technology_id:e.technology_id,key_figures:e.key_figures}})).sort((function(e,t){var a=e.name.toLowerCase(),n=t.name.toLowerCase(),c=e.technology_id,r=t.technology_id;return c<r?-1:c>r?1:a<n?-1:a>n?1:0}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onCreateProductPackageClick",value:function(){this.currentProductPackage={id:0,name:"",technology_id:0,key_figures:[]},this.selectedKeyFigureIds=[],this.updateKeyFigureOptions(),this.productPackageModalTitle=this.$t("create-product-package").toString(),this.productPackageModalOkTitle=this.$t("create").toString(),this.appProductPackageModal.show()}},{key:"onSubmitProductPackage",value:function(){var e=Object(i["a"])(Object(o["a"])().mark((function e(){return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.productPackageModalLoading=!0,e.prev=1,0!==this.currentProductPackage.id){e.next=8;break}return e.next=5,v["a"].createProductPackage({name:this.currentProductPackage.name,technology_id:this.currentProductPackage.technology_id,key_figures:this.selectedKeyFigureIds.map((function(e){return Number(e)}))});case 5:this.showSuccess(this.$t("product-package-created-success",{product_package:this.currentProductPackage.name}).toString()),e.next=11;break;case 8:return e.next=10,v["a"].updateProductPackage(this.currentProductPackage.id,{name:this.currentProductPackage.name,technology_id:this.currentProductPackage.technology_id,key_figures:this.selectedKeyFigureIds.map((function(e){return Number(e)}))});case 10:this.showSuccess(this.$t("product-package-edited-successfully",{product_package:this.currentProductPackage.name}).toString());case 11:return this.appProductPackageModal.hide(),e.next=14,this.updateProductPackageRows();case 14:e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](1),this.showError(e.t0);case 19:return e.prev=19,this.productPackageModalLoading=!1,e.finish(19);case 22:case"end":return e.stop()}}),e,this,[[1,16,19,22]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"onEditProductPackageClick",value:function(e){this.selectedKeyFigureIds=e.key_figures.map((function(e){return e.id.toString()})),this.currentProductPackage={id:e.id,name:e.name,technology_id:e.technology_id,key_figures:e.key_figures},this.updateKeyFigureOptions(),this.productPackageModalTitle=this.$t("update-product-package",{product_package:this.currentProductPackage.name}).toString(),this.productPackageModalOkTitle=this.$t("apply").toString(),this.appProductPackageModal.show()}},{key:"onDeleteProductPackageClick",value:function(){var e=Object(i["a"])(Object(o["a"])().mark((function e(t){return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(confirm(this.$t("sure-delete-product-package",{product_package:t.name}).toString())){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,v["a"].deleteProductPackage(t.id);case 4:return this.showSuccess(this.$t("product-package-deleted-successfully",{product_package:t.name}).toString()),e.next=7,this.updateProductPackageRows();case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"onTechnologySelectionChanged",value:function(){var e=Object(i["a"])(Object(o["a"])().mark((function e(){return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.currentProductPackage.key_figures=[],this.selectedKeyFigureIds=[],this.updateKeyFigureOptions();case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),a}(m["a"]);_([Object(f["c"])()],j.prototype,"appProductPackageModal",void 0),_([Object(O["a"])("loading")],j.prototype,"created",null),_([Object(O["a"])()],j.prototype,"onCreateProductPackageClick",null),_([Object(O["a"])("productPackageModalLoading")],j.prototype,"onSubmitProductPackage",null),_([Object(O["a"])()],j.prototype,"onEditProductPackageClick",null),_([Object(O["a"])("loading")],j.prototype,"onDeleteProductPackageClick",null),_([Object(O["a"])()],j.prototype,"onTechnologySelectionChanged",null),j=_([Object(f["a"])({name:"app-settings-product-packages",components:{AppTableContainer:g["a"],AppModalForm:k["a"],AppTable:h["a"],AppButton:b["a"],AppMultiselect:y["a"]}})],j);var w=j,x=w,S=(a(429),a(32)),C=Object(S["a"])(x,n,c,!1,null,null,null);C.options.__file="src/app/settings/product-packages/product-packages.vue";t["default"]=C.exports}}]);