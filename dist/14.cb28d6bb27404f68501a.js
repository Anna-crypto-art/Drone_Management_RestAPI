(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[14],{402:function(e,r,t){"use strict";t.r(r);var a=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"app-auth-register"},[t("app-auth-container",{attrs:{title:""}},[e.hasUser?t("div",[t("b-form",{attrs:{autocomplete:"off"},on:{submit:function(r){return r.preventDefault(),e.onSubmit(r)}}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.company,expression:"company"}]},[t("b-form-group",{attrs:{label:e.$t("company"),"label-for":"company"}},[t("b-form-input",{attrs:{id:"company",disabled:""},model:{value:e.company,callback:function(r){e.company=r},expression:"company"}})],1)],1),t("b-form-group",{attrs:{label:e.$t("email"),"label-for":"email"}},[t("b-form-input",{attrs:{id:"email",type:"email",disabled:""},model:{value:e.email,callback:function(r){e.email=r},expression:"email"}})],1),t("b-form-group",{attrs:{label:e.$t("first-name"),"label-for":"first-name"}},[t("b-form-input",{attrs:{id:"first-name",required:""},model:{value:e.user.first_name,callback:function(r){e.$set(e.user,"first_name",r)},expression:"user.first_name"}})],1),t("b-form-group",{attrs:{label:e.$t("last-name"),"label-for":"last-name"}},[t("b-form-input",{attrs:{id:"last-name",required:""},model:{value:e.user.last_name,callback:function(r){e.$set(e.user,"last_name",r)},expression:"user.last_name"}})],1),t("b-form-group",{attrs:{label:e.$t("password"),"label-for":"password"}},[t("b-form-input",{attrs:{id:"password",type:"password",placeholder:e.$t("password"),required:""},model:{value:e.user.password,callback:function(r){e.$set(e.user,"password",r)},expression:"user.password"}})],1),t("b-form-group",{attrs:{label:e.$t("repeat-password"),"label-for":"repeat-password"}},[t("b-form-input",{attrs:{id:"repeat-password",type:"password",placeholder:e.$t("repeat-password"),required:""},model:{value:e.user.repeat_password,callback:function(r){e.$set(e.user,"repeat_password",r)},expression:"user.repeat_password"}})],1),t("div",[t("b-form-checkbox",{attrs:{id:"terms-of-service",required:""},model:{value:e.checkedTermsOfService,callback:function(r){e.checkedTermsOfService=r},expression:"checkedTermsOfService"}},[t("span",{domProps:{innerHTML:e._s(e.$t("accept-terms-of-service"))}})])],1),t("app-button",{attrs:{type:"submit",cls:"width-100pc",disabled:!e.checkedTermsOfService,loading:e.loading}},[e._v(e._s(e.$t("register")))])],1)],1):e._e()])],1)},s=[];a._withStripped=!0;var n=t(8),o=t(14),i=t(19),c=t(20),p=t(25),u=t(24),l=t(32),m=(t(53),t(23),t(92),t(16)),d=t(18),f=t(150),b=t(142),h=t(56),v=t(62),w=t(84),_=function(e,r,t,a){var s,n=arguments.length,o=n<3?r:null===a?a=Object.getOwnPropertyDescriptor(r,t):a;if("object"===("undefined"===typeof Reflect?"undefined":Object(l["a"])(Reflect))&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,r,t,a);else for(var i=e.length-1;i>=0;i--)(s=e[i])&&(o=(n<3?s(o):n>3?s(r,t,o):s(r,t))||o);return n>3&&o&&Object.defineProperty(r,t,o),o},O=function(e){Object(p["a"])(t,e);var r=Object(u["a"])(t);function t(){var e;return Object(i["a"])(this,t),e=r.apply(this,arguments),e.hasUser=!1,e.email="",e.company="",e.checkedTermsOfService=!1,e.loading=!1,e}return Object(c["a"])(t,[{key:"created",value:function(){var e=Object(o["a"])(Object(n["a"])().mark((function e(){var r,t;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h["a"].getInvitedUser(this.$route.params.confirmKey);case 3:r=e.sent,this.user={user_id:r.id,first_name:r.first_name,last_name:r.last_name,password:"",repeat_password:""},this.email=r.email,this.company=r.customer&&r.customer.name||"",this.hasUser=!0,e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](0),e.t0.error!==v["a"].RESOURCE_NOT_FOUND&&e.t0.error!==v["a"].TOKEN_EXPIRED||(t=void 0,e.t0.error===v["a"].TOKEN_EXPIRED&&(t={error:e.t0.error,message:e.t0.message}),this.$router.push({name:"Login",query:t})),this.showAlert(e.t0);case 14:case"end":return e.stop()}}),e,this,[[0,10]])})));function r(){return e.apply(this,arguments)}return r}()},{key:"onSubmit",value:function(){var e=Object(o["a"])(Object(n["a"])().mark((function e(r){return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.user.password===this.user.repeat_password){e.next=3;break}return this.showAlert({error:"PASSWORDS_DONT_MATCH"}),e.abrupt("return");case 3:if(this.checkedTermsOfService){e.next=6;break}return this.showAlert({error:"ACCEPT_TERMS_OF_SERVICE"}),e.abrupt("return");case 6:return e.prev=6,this.loading=!0,e.next=10,h["a"].registerUser(this.$route.params.confirmKey,this.user);case 10:this.$router.push({name:"Login"}),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](6),this.showAlert(e.t0);case 16:case"end":return e.stop()}}),e,this,[[6,13]])})));function r(r){return e.apply(this,arguments)}return r}()},{key:"showAlert",value:function(e){w["a"].showError(e),this.loading=!1}}]),t}(m["default"]);O=_([Object(d["a"])({name:"app-auth-register",components:{AppAuthContainer:f["a"],AppButton:b["a"]}})],O);var y=O,g=y,k=t(34),$=Object(k["a"])(g,a,s,!1,null,null,null);$.options.__file="src/app/auth/register/register.vue";r["default"]=$.exports}}]);